<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìñ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å–∫–∞–∑–∫–∞: –ö–æ–ª–æ–±–æ–∫</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            color: #5d4037;
        }
        
        .header {
            text-align: center;
            margin-bottom: 20px;
            width: 100%;
            max-width: 900px;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: #d84315;
            text-shadow: 2px 2px 0 rgba(0,0,0,0.1);
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: #795548;
            margin-bottom: 15px;
        }
        
        .story-container {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 900px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            position: relative;
            overflow: hidden;
        }
        
        .page-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }
        
        .illustration {
            width: 100%;
            max-width: 500px;
            height: 300px;
            background: #fff8e1;
            border-radius: 15px;
            border: 3px solid #ffd54f;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .story-text {
            font-size: 1.3rem;
            line-height: 1.6;
            text-align: center;
            padding: 20px;
            background: #fff3e0;
            border-radius: 15px;
            border-left: 5px solid #ff9800;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .interactive-elements {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 10px;
        }
        
        .interactive-btn {
            background: #ff9800;
            border: none;
            border-radius: 50px;
            padding: 12px 20px;
            color: white;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .interactive-btn:hover {
            background: #f57c00;
            transform: translateY(-3px);
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }
        
        .control-btn {
            padding: 15px 25px;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .prev-btn {
            background: #78909c;
            color: white;
        }
        
        .prev-btn:hover {
            background: #546e7a;
        }
        
        .next-btn {
            background: #4caf50;
            color: white;
        }
        
        .next-btn:hover {
            background: #388e3c;
        }
        
        .read-btn {
            background: #2196f3;
            color: white;
        }
        
        .read-btn:hover {
            background: #1976d2;
        }
        
        .page-indicator {
            font-size: 1.1rem;
            font-weight: bold;
            color: #5d4037;
            margin-top: 10px;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
            40% {transform: translateY(-10px);}
            60% {transform: translateY(-5px);}
        }
        
        .bounce {
            animation: bounce 0.6s;
        }
        
        @keyframes pulse {
            0% {transform: scale(1);}
            50% {transform: scale(1.05);}
            100% {transform: scale(1);}
        }
        
        .pulse {
            animation: pulse 0.5s;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è—Ö */
        .character {
            position: absolute;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 3rem;
        }
        
        .character:hover {
            transform: scale(1.2);
        }
        
        .kolobok {
            bottom: 50px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .grandma {
            bottom: 50px;
            left: 100px;
        }
        
        .hare {
            bottom: 50px;
            right: 150px;
        }
        
        .wolf {
            bottom: 50px;
            right: 100px;
        }
        
        .bear {
            bottom: 50px;
            left: 150px;
        }
        
        .fox {
            bottom: 50px;
            left: 200px;
        }
        
        .tree {
            position: absolute;
            font-size: 4rem;
            bottom: 30px;
            left: 50px;
        }
        
        .house {
            position: absolute;
            font-size: 4rem;
            bottom: 30px;
            right: 50px;
        }
        
        .window {
            position: absolute;
            font-size: 3rem;
            top: 50px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .bench {
            position: absolute;
            font-size: 3rem;
            bottom: 80px;
            left: 150px;
        }
        
        .door {
            position: absolute;
            font-size: 3rem;
            bottom: 50px;
            right: 120px;
        }
        
        .road {
            position: absolute;
            font-size: 2rem;
            bottom: 30px;
            width: 100%;
            text-align: center;
        }
        
        .forest {
            position: absolute;
            font-size: 2rem;
            bottom: 30px;
            width: 100%;
            text-align: center;
        }
        
        .footer {
            margin-top: 20px;
            text-align: center;
            color: #795548;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .story-container {
                padding: 15px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .story-text {
                font-size: 1.1rem;
                padding: 15px;
            }
            
            .illustration {
                height: 250px;
            }
            
            .character {
                font-size: 2.5rem;
            }
        }
        
        @media (max-width: 480px) {
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .control-btn {
                width: 100%;
                max-width: 300px;
                justify-content: center;
            }
            
            .illustration {
                height: 200px;
            }
            
            .character {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üìñ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å–∫–∞–∑–∫–∞: –ö–æ–ª–æ–±–æ–∫</h1>
        <p class="subtitle">–ù–∞–∂–∏–º–∞–π –Ω–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –∏ –ø—Ä–µ–¥–º–µ—Ç—ã, —á—Ç–æ–±—ã —É—Å–ª—ã—à–∞—Ç—å –∑–≤—É–∫–∏!</p>
    </div>
    
    <div class="story-container">
        <div class="page-content">
            <div class="illustration" id="illustration">
                <!-- –ò–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è –±—É–¥–µ—Ç –º–µ–Ω—è—Ç—å—Å—è —á–µ—Ä–µ–∑ JavaScript -->
            </div>
            
            <div class="story-text" id="storyText">
                <!-- –¢–µ–∫—Å—Ç —Å–∫–∞–∑–∫–∏ –±—É–¥–µ—Ç –º–µ–Ω—è—Ç—å—Å—è —á–µ—Ä–µ–∑ JavaScript -->
            </div>
            
            <div class="interactive-elements" id="interactiveElements">
                <!-- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —á–µ—Ä–µ–∑ JavaScript -->
            </div>
        </div>
        
        <div class="controls">
            <button class="control-btn prev-btn" id="prevBtn">
                ‚óÄÔ∏è –ù–∞–∑–∞–¥
            </button>
            <button class="control-btn read-btn" id="readBtn">
                üîä –ß–∏—Ç–∞—Ç—å
            </button>
            <button class="control-btn next-btn" id="nextBtn">
                –í–ø–µ—Ä—ë–¥ ‚ñ∂Ô∏è
            </button>
        </div>
        
        <div class="page-indicator" id="pageIndicator">
            –°—Ç—Ä–∞–Ω–∏—Ü–∞ 1 –∏–∑ 6
        </div>
    </div>
    
    <div class="footer">
        <p>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å–∫–∞–∑–∫–∞ –¥–ª—è –¥–µ—Ç–µ–π ‚Ä¢ –ù–∞–∂–∏–º–∞–π –Ω–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π, —á—Ç–æ–±—ã —É—Å–ª—ã—à–∞—Ç—å –∏—Ö!</p>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞—É–¥–∏–æ–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const illustration = document.getElementById('illustration');
        const storyText = document.getElementById('storyText');
        const interactiveElements = document.getElementById('interactiveElements');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const readBtn = document.getElementById('readBtn');
        const pageIndicator = document.getElementById('pageIndicator');
        
        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–∫–∞–∑–∫–∏
        let currentPage = 0;
        let isReading = false;
        let currentSpeech = null;
        
        // –°—Ç—Ä–∞–Ω–∏—Ü—ã —Å–∫–∞–∑–∫–∏
        const storyPages = [
            {
                text: "–ñ–∏–ª–∏-–±—ã–ª–∏ —Å—Ç–∞—Ä–∏–∫ —Å–æ —Å—Ç–∞—Ä—É—Ö–æ–π. –ü–æ–ø—Ä–æ—Å–∏–ª —Å—Ç–∞—Ä–∏–∫ —Å—Ç–∞—Ä—É—Ö—É –∏—Å–ø–µ—á—å –∫–æ–ª–æ–±–æ–∫. –ü–æ—Å–∫—Ä–µ–±–ª–∞ —Å—Ç–∞—Ä—É—Ö–∞ –ø–æ —Å—É—Å–µ–∫–∞–º, –Ω–∞—Å–∫—Ä–µ–±–ª–∞ –º—É–∫–∏, –∑–∞–º–µ—Å–∏–ª–∞ —Ç–µ—Å—Ç–æ –∏ –∏—Å–ø–µ–∫–ª–∞ –∫–æ–ª–æ–±–æ–∫.",
                illustration: "home",
                interactive: [
                    { type: "character", id: "grandma", emoji: "üëµ", sound: "baking" },
                    { type: "object", id: "house", emoji: "üè†", sound: "door" }
                ]
            },
            {
                text: "–ü–æ–ª–æ–∂–∏–ª–∞ –∫–æ–ª–æ–±–æ–∫ –Ω–∞ –æ–∫–æ—à–∫–æ –æ—Å—Ç—ã–≤–∞—Ç—å. –ê –∫–æ–ª–æ–±–æ–∫ –≤–∑—è–ª –¥–∞ –∏ –ø–æ–∫–∞—Ç–∏–ª—Å—è - —Å –æ–∫–æ—à–∫–∞ –Ω–∞ –ª–∞–≤–∫—É, —Å –ª–∞–≤–∫–∏ –Ω–∞ –ø–æ–ª, –ø–æ –ø–æ–ª—É –¥–∞ –∫ –¥–≤–µ—Ä—è–º, –ø—Ä—ã–≥ —á–µ—Ä–µ–∑ –ø–æ—Ä–æ–≥ - –∏ –ø–æ–∫–∞—Ç–∏–ª—Å—è –ø–æ –¥–æ—Ä–æ–≥–µ.",
                illustration: "window",
                interactive: [
                    { type: "character", id: "kolobok", emoji: "üü°", sound: "rolling" }
                ]
            },
            {
                text: "–ö–∞—Ç–∏—Ç—Å—è –∫–æ–ª–æ–±–æ–∫ –ø–æ –¥–æ—Ä–æ–≥–µ, –∞ –Ω–∞–≤—Å—Ç—Ä–µ—á—É –µ–º—É –∑–∞—è—Ü: '–ö–æ–ª–æ–±–æ–∫, –∫–æ–ª–æ–±–æ–∫, —è —Ç–µ–±—è —Å—ä–µ–º!' –ê –∫–æ–ª–æ–±–æ–∫ –æ—Ç–≤–µ—Ç–∏–ª: '–ù–µ –µ—à—å –º–µ–Ω—è, –∑–∞—è—Ü, —è —Ç–µ–±–µ –ø–µ—Å–µ–Ω–∫—É —Å–ø–æ—é!'",
                illustration: "hare",
                interactive: [
                    { type: "character", id: "kolobok", emoji: "üü°", sound: "singing" },
                    { type: "character", id: "hare", emoji: "üêá", sound: "hop" }
                ]
            },
            {
                text: "–ü–æ–∫–∞—Ç–∏–ª—Å—è –∫–æ–ª–æ–±–æ–∫ –¥–∞–ª—å—à–µ. –ù–∞–≤—Å—Ç—Ä–µ—á—É –µ–º—É –≤–æ–ª–∫: '–ö–æ–ª–æ–±–æ–∫, –∫–æ–ª–æ–±–æ–∫, —è —Ç–µ–±—è —Å—ä–µ–º!' –ê –∫–æ–ª–æ–±–æ–∫ –æ—Ç–≤–µ—Ç–∏–ª: '–ù–µ –µ—à—å –º–µ–Ω—è, –≤–æ–ª–∫, —è —Ç–µ–±–µ –ø–µ—Å–µ–Ω–∫—É —Å–ø–æ—é!'",
                illustration: "wolf",
                interactive: [
                    { type: "character", id: "kolobok", emoji: "üü°", sound: "singing" },
                    { type: "character", id: "wolf", emoji: "üê∫", sound: "howl" }
                ]
            },
            {
                text: "–ö–∞—Ç–∏—Ç—Å—è –∫–æ–ª–æ–±–æ–∫, –∞ –Ω–∞–≤—Å—Ç—Ä–µ—á—É –µ–º—É –º–µ–¥–≤–µ–¥—å: '–ö–æ–ª–æ–±–æ–∫, –∫–æ–ª–æ–±–æ–∫, —è —Ç–µ–±—è —Å—ä–µ–º!' –ê –∫–æ–ª–æ–±–æ–∫ –æ—Ç–≤–µ—Ç–∏–ª: '–ù–µ –µ—à—å –º–µ–Ω—è, –º–µ–¥–≤–µ–¥—å, —è —Ç–µ–±–µ –ø–µ—Å–µ–Ω–∫—É —Å–ø–æ—é!'",
                illustration: "bear",
                interactive: [
                    { type: "character", id: "kolobok", emoji: "üü°", sound: "singing" },
                    { type: "character", id: "bear", emoji: "üêª", sound: "growl" }
                ]
            },
            {
                text: "–í—Å—Ç—Ä–µ—Ç–∏–ª–∞—Å—å –∫–æ–ª–æ–±–∫—É –ª–∏—Å–∞: '–ö–æ–ª–æ–±–æ–∫, –∫–æ–ª–æ–±–æ–∫, –∫—É–¥–∞ –∫–∞—Ç–∏—à—å—Å—è?' '–ö–∞—Ç–∏—Ç—Å—è –ø–æ –¥–æ—Ä–æ–∂–∫–µ.' '–°—è–¥—å –∫–æ –º–Ω–µ –Ω–∞ –Ω–æ—Å–æ–∫ –¥–∞ —Å–ø–æ–π –ø–µ—Å–µ–Ω–∫—É –µ—â—ë —Ä–∞–∑–æ–∫.' –ö–æ–ª–æ–±–æ–∫ –ø—Ä—ã–≥ –ª–∏—Å–µ –Ω–∞ –Ω–æ—Å, –∞ –ª–∏—Å–∞ –µ–≥–æ - –≥–∞–º! - –∏ —Å—ä–µ–ª–∞.",
                illustration: "fox",
                interactive: [
                    { type: "character", id: "kolobok", emoji: "üü°", sound: "singing" },
                    { type: "character", id: "fox", emoji: "ü¶ä", sound: "foxLaugh" }
                ]
            }
        ];
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–≤—É–∫–æ–≤
        function playSound(soundType) {
            if (audioContext.state === 'suspended') {
                audioContext.resume();
            }
            
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            let frequency = 300;
            let duration = 0.5;
            
            switch(soundType) {
                case 'baking':
                    // –ó–≤—É–∫ –≥–æ—Ç–æ–≤–∫–∏
                    oscillator.type = 'sine';
                    frequency = 200;
                    for (let i = 0.1; i < 1; i += 0.2) {
                        oscillator.frequency.setValueAtTime(200 + i * 50, audioContext.currentTime + i);
                    }
                    duration = 1;
                    break;
                    
                case 'rolling':
                    // –ó–≤—É–∫ –∫–∞—Ç—è—â–µ–≥–æ—Å—è –∫–æ–ª–æ–±–∫–∞
                    oscillator.type = 'sine';
                    for (let i = 0; i < 1; i += 0.1) {
                        oscillator.frequency.setValueAtTime(300 + Math.sin(i * 10) * 100, audioContext.currentTime + i);
                    }
                    duration = 1;
                    break;
                    
                case 'singing':
                    // –ü–µ—Å–µ–Ω–∫–∞ –∫–æ–ª–æ–±–∫–∞
                    oscillator.type = 'sine';
                    const melody = [330, 392, 440, 392, 330, 262, 330];
                    melody.forEach((note, index) => {
                        oscillator.frequency.setValueAtTime(note, audioContext.currentTime + index * 0.3);
                    });
                    duration = melody.length * 0.3;
                    break;
                    
                case 'hop':
                    // –ü—Ä—ã–∂–æ–∫ –∑–∞–π—Ü–∞
                    oscillator.type = 'triangle';
                    oscillator.frequency.setValueAtTime(500, audioContext.currentTime);
                    oscillator.frequency.setValueAtTime(300, audioContext.currentTime + 0.1);
                    duration = 0.3;
                    break;
                    
                case 'howl':
                    // –í–æ–π –≤–æ–ª–∫–∞
                    oscillator.type = 'sawtooth';
                    oscillator.frequency.setValueAtTime(150, audioContext.currentTime);
                    oscillator.frequency.exponentialRampToValueAtTime(100, audioContext.currentTime + 1);
                    duration = 1;
                    break;
                    
                case 'growl':
                    // –†—ã–∫ –º–µ–¥–≤–µ–¥—è
                    oscillator.type = 'square';
                    oscillator.frequency.setValueAtTime(80, audioContext.currentTime);
                    oscillator.frequency.exponentialRampToValueAtTime(60, audioContext.currentTime + 0.8);
                    duration = 0.8;
                    break;
                    
                case 'foxLaugh':
                    // –°–º–µ—Ö –ª–∏—Å—ã
                    oscillator.type = 'sine';
                    for (let i = 0; i < 0.6; i += 0.1) {
                        oscillator.frequency.setValueAtTime(600 + Math.sin(i * 20) * 200, audioContext.currentTime + i);
                    }
                    duration = 0.6;
                    break;
                    
                case 'door':
                    // –ó–≤—É–∫ –¥–≤–µ—Ä–∏
                    oscillator.type = 'sine';
                    oscillator.frequency.setValueAtTime(400, audioContext.currentTime);
                    oscillator.frequency.exponentialRampToValueAtTime(200, audioContext.currentTime + 0.5);
                    duration = 0.5;
                    break;
                    
                case 'jump':
                    // –ü—Ä—ã–∂–æ–∫
                    oscillator.type = 'triangle';
                    oscillator.frequency.setValueAtTime(600, audioContext.currentTime);
                    oscillator.frequency.setValueAtTime(300, audioContext.currentTime + 0.2);
                    duration = 0.3;
                    break;
            }
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + duration);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –æ–∑–≤—É—á–∫–∏ —Ç–µ–∫—Å—Ç–∞
        function readText(text) {
            if (isReading) {
                stopReading();
                return;
            }
            
            isReading = true;
            readBtn.innerHTML = '‚èπÔ∏è –°—Ç–æ–ø';
            
            // –ò—Å–ø–æ–ª—å–∑—É–µ–º Web Speech API –¥–ª—è –æ–∑–≤—É—á–∫–∏
            if ('speechSynthesis' in window) {
                if (currentSpeech) {
                    speechSynthesis.cancel();
                }
                
                currentSpeech = new SpeechSynthesisUtterance(text);
                currentSpeech.lang = 'ru-RU';
                currentSpeech.rate = 0.9;
                currentSpeech.pitch = 1;
                
                currentSpeech.onend = function() {
                    isReading = false;
                    readBtn.innerHTML = 'üîä –ß–∏—Ç–∞—Ç—å';
                };
                
                speechSynthesis.speak(currentSpeech);
            } else {
                // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞, –µ—Å–ª–∏ Web Speech API –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
                alert("–û–∑–≤—É—á–∫–∞ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ");
                isReading = false;
                readBtn.innerHTML = 'üîä –ß–∏—Ç–∞—Ç—å';
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —á—Ç–µ–Ω–∏—è
        function stopReading() {
            if ('speechSynthesis' in window) {
                speechSynthesis.cancel();
            }
            isReading = false;
            readBtn.innerHTML = 'üîä –ß–∏—Ç–∞—Ç—å';
        }
        
        // –§—É–Ω–∫—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        function showPage(pageIndex) {
            currentPage = pageIndex;
            const page = storyPages[pageIndex];
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç
            storyText.textContent = page.text;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            pageIndicator.textContent = `–°—Ç—Ä–∞–Ω–∏—Ü–∞ ${pageIndex + 1} –∏–∑ ${storyPages.length}`;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            prevBtn.disabled = pageIndex === 0;
            nextBtn.disabled = pageIndex === storyPages.length - 1;
            
            // –°–æ–∑–¥–∞–µ–º –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—é
            createIllustration(page.illustration, page.interactive);
            
            // –°–æ–∑–¥–∞–µ–º –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
            createInteractiveElements(page.interactive);
            
            // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–∫—É—â–µ–µ —á—Ç–µ–Ω–∏–µ
            stopReading();
        }
        
        // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–∏
        function createIllustration(type, interactive) {
            illustration.innerHTML = '';
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Ñ–æ–Ω –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–∏
            switch(type) {
                case 'home':
                    illustration.style.background = 'linear-gradient(to bottom, #87CEEB, #E0F7FA)';
                    break;
                case 'window':
                    illustration.style.background = 'linear-gradient(to bottom, #87CEEB, #BBDEFB)';
                    break;
                case 'hare':
                case 'wolf':
                case 'bear':
                case 'fox':
                    illustration.style.background = 'linear-gradient(to bottom, #66BB6A, #C8E6C9)';
                    break;
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞ –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—é
            interactive.forEach(item => {
                if (item.type === 'character') {
                    const character = document.createElement('div');
                    character.className = `character ${item.id}`;
                    character.innerHTML = item.emoji;
                    character.title = '–ù–∞–∂–º–∏ –º–µ–Ω—è!';
                    
                    character.addEventListener('click', () => {
                        playSound(item.sound);
                        character.classList.add('bounce');
                        setTimeout(() => {
                            character.classList.remove('bounce');
                        }, 600);
                    });
                    
                    illustration.appendChild(character);
                } else if (item.type === 'object') {
                    const object = document.createElement('div');
                    object.className = `object ${item.id}`;
                    object.innerHTML = item.emoji;
                    object.title = '–ù–∞–∂–º–∏ –º–µ–Ω—è!';
                    
                    object.addEventListener('click', () => {
                        playSound(item.sound);
                        object.classList.add('pulse');
                        setTimeout(() => {
                            object.classList.remove('pulse');
                        }, 500);
                    });
                    
                    illustration.appendChild(object);
                }
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
            if (type === 'home') {
                const tree = document.createElement('div');
                tree.className = 'tree';
                tree.innerHTML = 'üå≥';
                illustration.appendChild(tree);
                
                const house = document.createElement('div');
                house.className = 'house';
                house.innerHTML = 'üè†';
                illustration.appendChild(house);
            } else if (type === 'window') {
                // –î–ª—è –≤—Ç–æ—Ä–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –ª–µ—Å –∏ –∫–æ–ª–æ–±–∫–∞
                const forest = document.createElement('div');
                forest.className = 'forest';
                forest.innerHTML = 'üå≤üå≤üå≤üå≤üå≤';
                illustration.appendChild(forest);
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        function createInteractiveElements(interactive) {
            interactiveElements.innerHTML = '';
            
            interactive.forEach(item => {
                const button = document.createElement('button');
                button.className = 'interactive-btn';
                
                let text = '';
                switch(item.sound) {
                    case 'baking':
                        text = '–ó–≤—É–∫ –≥–æ—Ç–æ–≤–∫–∏';
                        break;
                    case 'rolling':
                        text = '–ö–∞—Ç–∏—Ç—Å—è –∫–æ–ª–æ–±–æ–∫';
                        break;
                    case 'singing':
                        text = '–ü–µ—Å–µ–Ω–∫–∞ –∫–æ–ª–æ–±–∫–∞';
                        break;
                    case 'hop':
                        text = '–ü—Ä—ã–∂–æ–∫ –∑–∞–π—Ü–∞';
                        break;
                    case 'howl':
                        text = '–í–æ–π –≤–æ–ª–∫–∞';
                        break;
                    case 'growl':
                        text = '–†—ã–∫ –º–µ–¥–≤–µ–¥—è';
                        break;
                    case 'foxLaugh':
                        text = '–•–∏—Ç—Ä–∞—è –ª–∏—Å–∞';
                        break;
                    case 'door':
                        text = '–ó–≤—É–∫ –¥–≤–µ—Ä–∏';
                        break;
                    case 'jump':
                        text = '–ü—Ä—ã–∂–æ–∫ –∫–æ–ª–æ–±–∫–∞';
                        break;
                }
                
                button.innerHTML = `${item.emoji} ${text}`;
                
                button.addEventListener('click', () => {
                    playSound(item.sound);
                    button.classList.add('pulse');
                    setTimeout(() => {
                        button.classList.remove('pulse');
                    }, 500);
                });
                
                interactiveElements.appendChild(button);
            });
        }
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
        prevBtn.addEventListener('click', () => {
            if (currentPage > 0) {
                showPage(currentPage - 1);
            }
        });
        
        nextBtn.addEventListener('click', () => {
            if (currentPage < storyPages.length - 1) {
                showPage(currentPage + 1);
            }
        });
        
        readBtn.addEventListener('click', () => {
            readText(storyPages[currentPage].text);
        });
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∫–ª–∏–∫–µ (–¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤)
        document.addEventListener('click', function initAudio() {
            if (audioContext.state === 'suspended') {
                audioContext.resume();
            }
            document.removeEventListener('click', initAudio);
        });
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        showPage(0);
    </script>
</body>
</html>