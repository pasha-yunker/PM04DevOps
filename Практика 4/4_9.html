<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéµ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –º–µ—Ç—Ä–æ–Ω–æ–º</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            color: white;
        }
        
        .container {
            max-width: 600px;
            width: 100%;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 25px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            text-align: center;
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .subtitle {
            font-size: 1.3rem;
            margin-bottom: 30px;
            color: #e0e0e0;
        }
        
        .visualization {
            width: 250px;
            height: 250px;
            margin: 0 auto 30px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .beat-circle {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.1s ease;
            border: 4px solid rgba(255, 255, 255, 0.2);
        }
        
        .beat-circle.active {
            transform: scale(1.1);
            background: rgba(76, 175, 80, 0.7);
            box-shadow: 0 0 30px rgba(76, 175, 80, 0.7);
        }
        
        .beat-text {
            font-size: 3rem;
            font-weight: bold;
            color: white;
        }
        
        .controls {
            display: flex;
            flex-direction: column;
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .tempo-control {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .tempo-display {
            font-size: 2.5rem;
            font-weight: bold;
            color: #4CAF50;
        }
        
        .tempo-slider {
            width: 100%;
            height: 20px;
            -webkit-appearance: none;
            appearance: none;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            outline: none;
        }
        
        .tempo-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: #4CAF50;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(76, 175, 80, 0.7);
        }
        
        .main-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 10px;
        }
        
        .control-btn {
            padding: 18px 35px;
            border: none;
            border-radius: 50px;
            font-size: 1.3rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .start-btn {
            background: #4CAF50;
            color: white;
            padding: 20px 40px;
            font-size: 1.5rem;
        }
        
        .start-btn:hover {
            background: #45a049;
            transform: translateY(-3px);
        }
        
        .stop-btn {
            background: #f44336;
            color: white;
        }
        
        .stop-btn:hover {
            background: #d32f2f;
            transform: translateY(-3px);
        }
        
        .sound-controls {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        
        .sound-btn {
            padding: 15px 10px;
            border: none;
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.15);
            color: white;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .sound-btn:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-3px);
        }
        
        .sound-btn.active {
            background: #2196F3;
            box-shadow: 0 0 15px rgba(33, 150, 243, 0.7);
        }
        
        .time-signature {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        
        .signature-btn {
            padding: 12px 20px;
            border: none;
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.15);
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .signature-btn.active {
            background: #FF9800;
            box-shadow: 0 0 15px rgba(255, 152, 0, 0.7);
        }
        
        .signature-btn:hover {
            background: rgba(255, 255, 255, 0.25);
        }
        
        .beat-indicators {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }
        
        .beat-dot {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transition: all 0.2s;
        }
        
        .beat-dot.active {
            background: #4CAF50;
            transform: scale(1.3);
        }
        
        @media (max-width: 600px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .visualization {
                width: 200px;
                height: 200px;
            }
            
            .beat-circle {
                width: 160px;
                height: 160px;
            }
            
            .control-btn {
                padding: 15px 25px;
                font-size: 1.1rem;
            }
            
            .start-btn {
                padding: 18px 35px;
                font-size: 1.3rem;
            }
            
            .sound-controls {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéµ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –º–µ—Ç—Ä–æ–Ω–æ–º</h1>
        <p class="subtitle">–°–ª–µ–¥–∏ –∑–∞ —Ä–∏—Ç–º–æ–º –∏ –ø—Ä–∞–∫—Ç–∏–∫—É–π —Å–≤–æ—é –º—É–∑—ã–∫—É!</p>
        
        <div class="visualization">
            <div class="beat-circle" id="beatCircle">
                <div class="beat-text" id="beatText">1</div>
            </div>
        </div>
        
        <div class="beat-indicators" id="beatIndicators">
            <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –¥–æ–ª–µ–π –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
        </div>
        
        <div class="controls">
            <div class="tempo-control">
                <div class="tempo-display" id="tempoDisplay">120 BPM</div>
                <input type="range" min="40" max="240" value="120" class="tempo-slider" id="tempoSlider">
                <div style="display: flex; justify-content: space-between;">
                    <span>–ú–µ–¥–ª–µ–Ω–Ω–æ</span>
                    <span>–ë—ã—Å—Ç—Ä–æ</span>
                </div>
            </div>
            
            <div class="time-signature">
                <button class="signature-btn active" data-signature="4">4/4</button>
                <button class="signature-btn" data-signature="3">3/4</button>
                <button class="signature-btn" data-signature="6">6/8</button>
            </div>
            
            <div class="main-controls">
                <button class="control-btn start-btn" id="startBtn">
                    ‚ñ∂Ô∏è –°—Ç–∞—Ä—Ç
                </button>
                <button class="control-btn stop-btn" id="stopBtn">
                    ‚èπÔ∏è –°—Ç–æ–ø
                </button>
            </div>
            
            <div class="sound-controls">
                <button class="sound-btn active" data-sound="beep">üîä –ë–∏–ø</button>
                <button class="sound-btn" data-sound="click">üëÜ –©–µ–ª—á–æ–∫</button>
                <button class="sound-btn" data-sound="wood">üéµ –¢–∞–ø</button>
                <button class="sound-btn" data-sound="bell">üîî –ö–æ–ª–æ–∫–æ–ª—å—á–∏–∫</button>
                <button class="sound-btn" data-sound="tick">‚è∞ –¢–∏–∫</button>
                <button class="sound-btn" data-sound="drum">ü•Å –ë–∞—Ä–∞–±–∞–Ω</button>
            </div>
        </div>
    </div>

    <script>
        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const beatCircle = document.getElementById('beatCircle');
        const beatText = document.getElementById('beatText');
        const beatIndicators = document.getElementById('beatIndicators');
        const tempoDisplay = document.getElementById('tempoDisplay');
        const tempoSlider = document.getElementById('tempoSlider');
        const startBtn = document.getElementById('startBtn');
        const stopBtn = document.getElementById('stopBtn');
        const soundBtns = document.querySelectorAll('.sound-btn');
        const signatureBtns = document.querySelectorAll('.signature-btn');
        
        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–æ–Ω–æ–º–∞
        let isPlaying = false;
        let tempo = 120;
        let currentBeat = 1;
        let timeSignature = 4;
        let currentSound = 'beep';
        let timerId = null;
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞—É–¥–∏–æ–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        
        // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–≤—É–∫–∞
        function playSound(type, isAccent = false) {
            if (audioContext.state === 'suspended') {
                audioContext.resume();
            }
            
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            let frequency = 800;
            let duration = 0.1;
            let volume = 0.3;
            
            switch(type) {
                case 'beep':
                    frequency = isAccent ? 1000 : 800;
                    oscillator.type = 'sine';
                    break;
                case 'click':
                    frequency = isAccent ? 1200 : 1000;
                    oscillator.type = 'square';
                    duration = 0.05;
                    break;
                case 'wood':
                    frequency = isAccent ? 600 : 400;
                    oscillator.type = 'sawtooth';
                    duration = 0.2;
                    break;
                case 'bell':
                    frequency = isAccent ? 1200 : 800;
                    oscillator.type = 'triangle';
                    duration = 0.3;
                    break;
                case 'tick':
                    frequency = isAccent ? 1500 : 1200;
                    oscillator.type = 'sine';
                    duration = 0.02;
                    break;
                case 'drum':
                    frequency = isAccent ? 150 : 100;
                    oscillator.type = 'sawtooth';
                    duration = 0.1;
                    break;
            }
            
            if (isAccent) {
                volume = 0.5;
            }
            
            oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);
            
            gainNode.gain.setValueAtTime(volume, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + duration);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + duration);
        }
        
        // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –¥–æ–ª–µ–π
        function createBeatIndicators() {
            beatIndicators.innerHTML = '';
            
            for (let i = 0; i < timeSignature; i++) {
                const dot = document.createElement('div');
                dot.className = 'beat-dot';
                if (i === 0) {
                    dot.classList.add('active');
                }
                beatIndicators.appendChild(dot);
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
        function updateVisualization() {
            // –ê–Ω–∏–º–∞—Ü–∏—è –∫—Ä—É–≥–∞
            beatCircle.classList.add('active');
            setTimeout(() => {
                beatCircle.classList.remove('active');
            }, 100);
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
            beatText.textContent = currentBeat;
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
            const dots = document.querySelectorAll('.beat-dot');
            dots.forEach((dot, index) => {
                if (index === currentBeat - 1) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
            
            // –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–≤—É–∫–∞
            const isAccent = currentBeat === 1;
            playSound(currentSound, isAccent);
            
            // –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–π –¥–æ–ª–µ
            currentBeat++;
            if (currentBeat > timeSignature) {
                currentBeat = 1;
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞ –º–µ—Ç—Ä–æ–Ω–æ–º–∞
        function startMetronome() {
            if (isPlaying) return;
            
            isPlaying = true;
            startBtn.disabled = true;
            
            const interval = 60000 / tempo; // –ò–Ω—Ç–µ—Ä–≤–∞–ª –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
            
            updateVisualization();
            timerId = setInterval(updateVisualization, interval);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –º–µ—Ç—Ä–æ–Ω–æ–º–∞
        function stopMetronome() {
            if (!isPlaying) return;
            
            isPlaying = false;
            startBtn.disabled = false;
            clearInterval(timerId);
            
            // –°–±—Ä–æ—Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
            beatCircle.classList.remove('active');
            currentBeat = 1;
            beatText.textContent = currentBeat;
            
            // –°–±—Ä–æ—Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
            const dots = document.querySelectorAll('.beat-dot');
            dots.forEach((dot, index) => {
                if (index === 0) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
        startBtn.addEventListener('click', startMetronome);
        stopBtn.addEventListener('click', stopMetronome);
        
        tempoSlider.addEventListener('input', function() {
            tempo = parseInt(this.value);
            tempoDisplay.textContent = `${tempo} BPM`;
            
            // –ï—Å–ª–∏ –º–µ—Ç—Ä–æ–Ω–æ–º –∏–≥—Ä–∞–µ—Ç, –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º —Å –Ω–æ–≤—ã–º —Ç–µ–º–ø–æ–º
            if (isPlaying) {
                stopMetronome();
                startMetronome();
            }
        });
        
        soundBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                soundBtns.forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                currentSound = this.dataset.sound;
            });
        });
        
        signatureBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                signatureBtns.forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                timeSignature = parseInt(this.dataset.signature);
                createBeatIndicators();
                
                // –ï—Å–ª–∏ –º–µ—Ç—Ä–æ–Ω–æ–º –∏–≥—Ä–∞–µ—Ç, –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º —Å –Ω–æ–≤—ã–º —Ä–∞–∑–º–µ—Ä–æ–º
                if (isPlaying) {
                    stopMetronome();
                    startMetronome();
                }
            });
        });
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∫–ª–∏–∫–µ (–¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤)
        document.addEventListener('click', function initAudio() {
            if (audioContext.state === 'suspended') {
                audioContext.resume();
            }
            document.removeEventListener('click', initAudio);
        });
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        createBeatIndicators();
    </script>
</body>
</html>