<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéµ –î–µ—Ç—Å–∫–∏–π –º—É–∑—ã–∫–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç</title>
    <style>
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background-color: #f0f8ff;
            margin: 0;
            padding: 20px;
            text-align: center;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        
        .header {
            background-color: #ff6b6b;
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            font-size: 24px;
            font-weight: bold;
        }
        
        .instruction {
            background-color: #ffe66d;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-size: 16px;
        }
        
        .buttons-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            max-width: 900px;
            margin: 0 auto 20px;
        }
        
        .music-button {
            padding: 30px 15px;
            font-size: 18px;
            font-weight: bold;
            color: white;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 6px 12px rgba(0,0,0,0.2);
            line-height: 1.3;
        }
        
        .music-button:active {
            transform: scale(0.95);
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        .controls {
            margin: 20px 0;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .control-button {
            padding: 15px 20px;
            font-size: 14px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            color: white;
            font-weight: bold;
            min-width: 180px;
        }
        
        .checkbox-label {
            background-color: #74b9ff;
            padding: 12px 20px;
            border-radius: 10px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .checkbox-label input {
            transform: scale(1.3);
        }
        
        .bottom-panel {
            background: linear-gradient(to bottom, #dfe6e9, #b2bec3);
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            position: relative;
            height: 150px;
            overflow: hidden;
            border: 3px solid #a5b1c2;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .bottom-panel-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: #2d3436;
            font-size: 18px;
        }
        
        .element {
            position: absolute;
            font-size: 24px;
            font-weight: bold;
            animation: floatUp 3s ease-out forwards;
            bottom: 10px;
        }
        
        @keyframes floatUp {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-120px) scale(1.5); opacity: 0; }
        }
        
        .music-area {
            flex-grow: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px 0;
        }
        
        .music-display {
            font-size: 48px;
            color: #ff6b6b;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body>
    <div class="header">üéµ –í–ï–°–Å–õ–´–ô –ú–£–ó–´–ö–ê–õ–¨–ù–´–ô –ò–ù–°–¢–†–£–ú–ï–ù–¢ üéµ</div>
    
    <div class="instruction">–ù–∞–∂–∏–º–∞–π –Ω–∞ —Ä–∞–∑–Ω–æ—Ü–≤–µ—Ç–Ω—ã–µ –∫–Ω–æ–ø–∫–∏, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å –º—É–∑—ã–∫—É! üé∂</div>
    
    <div class="buttons-grid">
        <button class="music-button" style="background-color: #ff6b6b;" onclick="playSound('drum')">ü•Å –ë–ê–†–ê–ë–ê–ù</button>
        <button class="music-button" style="background-color: #4ecdc4;" onclick="playSound('bell')">üîî –ö–û–õ–û–ö–û–õ–¨–ß–ò–ö</button>
        <button class="music-button" style="background-color: #45b7d1;" onclick="playSound('piano')">üéπ –ü–ò–ê–ù–ò–ù–û</button>
        <button class="music-button" style="background-color: #96ceb4;" onclick="playSound('xylophone')">üéº –ö–°–ò–õ–û–§–û–ù</button>
        <button class="music-button" style="background-color: #feca57;" onclick="playSound('animal')">üê∂ –ñ–ò–í–û–¢–ù–´–ï</button>
        <button class="music-button" style="background-color: #ff9ff3;" onclick="playSound('nature')">üå≥ –ü–†–ò–†–û–î–ê</button>
    </div>
    
    <div class="controls">
        <button class="control-button" style="background-color: #a29bfe;" onclick="playAllSounds()">üéµ –í–ö–õ–Æ–ß–ò–¢–¨ –í–°–ï –ó–í–£–ö–ò</button>
        <button class="control-button" style="background-color: #fd79a8;" onclick="stopAllSounds()">üîá –í–´–ö–õ–Æ–ß–ò–¢–¨ –ú–£–ó–´–ö–£</button>
        <label class="checkbox-label">
            <input type="checkbox" id="autoPlay"> üîÑ –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ê–Ø –ú–£–ó–´–ö–ê
        </label>
    </div>
    
    <div class="music-area">
        <div class="music-display" id="musicDisplay">üéµ –ù–∞–∂–º–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É! üéµ</div>
    </div>
    
    <div class="bottom-panel">
        <div class="bottom-panel-title">üéº –ú–£–ó–´–ö–ê–õ–¨–ù–´–ï –≠–õ–ï–ú–ï–ù–¢–´ üéº</div>
        <div id="elementContainer"></div>
    </div>
    
    <script>
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        let oscillators = [];
        let isPlaying = false;
        
        function createSound(frequency, duration) {
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.value = frequency;
            oscillator.type = 'sine';
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration/1000);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + duration/1000);
            
            oscillators.push(oscillator);
            isPlaying = true;
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –æ—Å—Ü–∏–ª–ª—è—Ç–æ—Ä–∞ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
            setTimeout(() => {
                const index = oscillators.indexOf(oscillator);
                if (index > -1) {
                    oscillators.splice(index, 1);
                }
                if (oscillators.length === 0) {
                    isPlaying = false;
                }
            }, duration);
        }
        
        const sounds = {
            'drum': () => createSound(100 + Math.random() * 100, 300),
            'bell': () => createSound(800 + Math.random() * 400, 500),
            'piano': () => createSound(262 + Math.random() * 261, 400),
            'xylophone': () => createSound(523 + Math.random() * 261, 300),
            'animal': () => createSound(300 + Math.random() * 200, 600),
            'nature': () => createSound(200 + Math.random() * 300, 800)
        };
        
        const soundNames = {
            'drum': '–ë–ê–†–ê–ë–ê–ù ü•Å',
            'bell': '–ö–û–õ–û–ö–û–õ–¨–ß–ò–ö üîî',
            'piano': '–ü–ò–ê–ù–ò–ù–û üéπ',
            'xylophone': '–ö–°–ò–õ–û–§–û–ù üéº',
            'animal': '–ñ–ò–í–û–¢–ù–´–ï üê∂',
            'nature': '–ü–†–ò–†–û–î–ê üå≥'
        };
        
        function playSound(soundType) {
            if (audioContext.state === 'suspended') {
                audioContext.resume();
            }
            
            sounds[soundType]();
            createBottomElement(soundType);
            updateMusicDisplay(soundNames[soundType]);
            
            if (document.getElementById('autoPlay').checked) {
                setTimeout(playRandomSound, 800);
            }
        }
        
        function createBottomElement(soundType) {
            const elementContainer = document.getElementById('elementContainer');
            const elements = ['‚ô™', '‚ô´', 'üéµ', 'üé∂', '‚òÖ', '‚óè', '‚óÜ', 'üéπ', 'ü•Å', 'üîî', 'üéº', 'üê∂', 'üå≥'];
            const element = elements[Math.floor(Math.random() * elements.length)];
            
            const elementDiv = document.createElement('div');
            elementDiv.className = 'element';
            elementDiv.textContent = element;
            elementDiv.style.color = getButtonColor(soundType);
            elementDiv.style.left = Math.random() * 90 + 5 + '%';
            elementDiv.style.fontSize = (20 + Math.random() * 20) + 'px';
            
            elementContainer.appendChild(elementDiv);
            
            setTimeout(() => {
                if (elementDiv.parentNode) {
                    elementDiv.remove();
                }
            }, 3000);
        }
        
        function getButtonColor(soundType) {
            const colors = {
                'drum': '#ff6b6b',
                'bell': '#4ecdc4',
                'piano': '#45b7d1',
                'xylophone': '#96ceb4',
                'animal': '#feca57',
                'nature': '#ff9ff3'
            };
            return colors[soundType] || '#cccccc';
        }
        
        function playAllSounds() {
            const soundTypes = Object.keys(sounds);
            soundTypes.forEach((sound, index) => {
                setTimeout(() => playSound(sound), index * 1000);
            });
        }
        
        function stopAllSounds() {
            // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Å–µ –æ—Å—Ü–∏–ª–ª—è—Ç–æ—Ä—ã
            oscillators.forEach(oscillator => {
                try {
                    oscillator.stop();
                } catch(e) {
                    // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—à–∏–±–∫–∏, –µ—Å–ª–∏ –æ—Å—Ü–∏–ª–ª—è—Ç–æ—Ä —É–∂–µ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
                }
            });
            oscillators = [];
            isPlaying = false;
            
            // –û—á–∏—â–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –Ω–∏–∂–Ω–µ–π –ø–∞–Ω–µ–ª–∏
            document.getElementById('elementContainer').innerHTML = '';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            updateMusicDisplay('–ú—É–∑—ã–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞!');
        }
        
        function playRandomSound() {
            const soundTypes = Object.keys(sounds);
            const randomSound = soundTypes[Math.floor(Math.random() * soundTypes.length)];
            playSound(randomSound);
        }
        
        function updateMusicDisplay(text) {
            const display = document.getElementById('musicDisplay');
            display.textContent = text;
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
            display.style.animation = 'none';
            setTimeout(() => {
                display.style.animation = 'pulse 2s infinite';
            }, 10);
        }
    </script>
</body>
</html>