<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé® –ú—É–∑—ã–∫–∞–ª—å–Ω–∞—è —Ä–∞—Å–∫—Ä–∞—Å–∫–∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
            overflow-x: auto;
        }
        
        .container {
            display: flex;
            gap: 20px;
            max-width: 1200px;
            margin: 0 auto;
            min-height: calc(100vh - 40px);
        }
        
        .header {
            text-align: center;
            margin-bottom: 20px;
            width: 100%;
        }
        
        h1 {
            color: #ff6b6b;
            font-size: 2.2rem;
            margin-bottom: 5px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .subtitle {
            color: #4a4a4a;
            font-size: 1.1rem;
        }
        
        /* –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å —Ü–≤–µ—Ç–∞–º–∏ */
        .colors-panel {
            width: 200px;
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
        }
        
        .colors-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: #ff6b6b;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .color-palette {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .color-item {
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            padding: 8px;
            border-radius: 10px;
            transition: all 0.3s;
        }
        
        .color-item:hover {
            background: #f8f9fa;
        }
        
        .color-item.active {
            background: #e3f2fd;
            border: 2px solid #2196f3;
        }
        
        .color-option {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            flex-shrink: 0;
        }
        
        .color-name {
            font-size: 1rem;
            font-weight: bold;
            color: #4a4a4a;
        }
        
        /* –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å —Ä–∏—Å–æ–≤–∞–Ω–∏—è */
        .drawing-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            min-width: 0;
        }
        
        .current-color-info {
            background: white;
            border-radius: 15px;
            padding: 15px 20px;
            margin-bottom: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .current-color-text {
            font-size: 1.3rem;
            font-weight: bold;
            color: #ff6b6b;
        }
        
        .canvas-container {
            flex: 1;
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
        }
        
        .canvas-wrapper {
            flex: 1;
            border: 3px dashed #ffd166;
            border-radius: 10px;
            overflow: hidden;
            background-color: #f9f9f9;
            min-height: 400px;
        }
        
        #coloringCanvas {
            width: 100%;
            height: 100%;
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><circle cx="12" cy="12" r="8" fill="%23000" opacity="0.5"/></svg>') 12 12, auto;
            display: block;
        }
        
        .tools {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            justify-content: center;
        }
        
        .tool-btn {
            padding: 10px 20px;
            background: #74b9ff;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 0.9rem;
        }
        
        .tool-btn:hover {
            background: #0984e3;
            transform: translateY(-2px);
        }
        
        .tool-btn.active {
            background: #0984e3;
        }
        
        /* –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å —Å —Ä–∞—Å–∫—Ä–∞—Å–∫–∞–º–∏ */
        .images-panel {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .images-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: #ff6b6b;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .images-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
        }
        
        .image-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            padding: 15px;
            border-radius: 10px;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .image-option:hover {
            background: #f8f9fa;
            transform: translateY(-2px);
        }
        
        .image-option.active {
            background: #e3f2fd;
            border: 2px solid #2196f3;
            transform: scale(1.05);
        }
        
        .image-emoji {
            font-size: 2.5rem;
        }
        
        .image-name {
            font-size: 0.9rem;
            font-weight: bold;
            color: #4a4a4a;
            text-align: center;
        }
        
        .footer {
            text-align: center;
            color: #636e72;
            font-size: 0.8rem;
            margin-top: 20px;
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 900px) {
            .container {
                flex-direction: column;
            }
            
            .colors-panel {
                width: 100%;
            }
            
            .color-palette {
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .color-item {
                flex-direction: column;
                text-align: center;
                width: 80px;
            }
        }
        
        @media (max-width: 600px) {
            body {
                padding: 10px;
            }
            
            .images-selector {
                grid-template-columns: repeat(3, 1fr);
                gap: 10px;
            }
            
            .image-option {
                padding: 10px;
            }
            
            .image-emoji {
                font-size: 2rem;
            }
            
            h1 {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üé® –ú—É–∑—ã–∫–∞–ª—å–Ω–∞—è –†–∞—Å–∫—Ä–∞—Å–∫–∞</h1>
        <p class="subtitle">–†–∞—Å–∫—Ä–∞—à–∏–≤–∞–π –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∏ —Å–ª—É—à–∞–π –≤–µ—Å–µ–ª—ã–µ –∑–≤—É–∫–∏!</p>
    </div>
    
    <div class="container">
        <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å —Ü–≤–µ—Ç–∞–º–∏ -->
        <div class="colors-panel">
            <div class="colors-title">üé® –¶–≤–µ—Ç–∞</div>
            <div class="color-palette" id="colorPalette">
                <!-- –¶–≤–µ—Ç–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
            </div>
        </div>
        
        <!-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å -->
        <div class="drawing-area">
            <div class="current-color-info">
                <div class="current-color-text" id="currentColorText">–í—ã–±–µ—Ä–∏ —Ü–≤–µ—Ç –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è</div>
            </div>
            
            <div class="canvas-container">
                <div class="canvas-wrapper">
                    <canvas id="coloringCanvas"></canvas>
                </div>
                
                <div class="tools">
                    <button class="tool-btn" id="clearBtn">–û—á–∏—Å—Ç–∏—Ç—å</button>
                    <button class="tool-btn active" id="brushBtn">–ö–∏—Å—Ç—å</button>
                    <button class="tool-btn" id="fillBtn">–ó–∞–ª–∏–≤–∫–∞</button>
                </div>
            </div>
            
            <!-- –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å —Å —Ä–∞—Å–∫—Ä–∞—Å–∫–∞–º–∏ -->
            <div class="images-panel">
                <div class="images-title">üñºÔ∏è –í—ã–±–µ—Ä–∏ —Ä–∞—Å–∫—Ä–∞—Å–∫—É</div>
                <div class="images-selector" id="imagesSelector">
                    <!-- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                </div>
            </div>
        </div>
    </div>
    
    <div class="footer">
        <p>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Ä–∞—Å–∫—Ä–∞—Å–∫–∞ —Å –º—É–∑—ã–∫–∞–ª—å–Ω—ã–º —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ–º –¥–ª—è –¥–µ—Ç–µ–π</p>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞—É–¥–∏–æ–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
        let audioContext = new (window.AudioContext || window.webkitAudioContext)();
        let isDrawing = false;
        let currentTool = 'brush';
        let currentColor = '#ff6b6b';
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const canvas = document.getElementById('coloringCanvas');
        const ctx = canvas.getContext('2d');
        const colorPalette = document.getElementById('colorPalette');
        const imagesSelector = document.getElementById('imagesSelector');
        const clearBtn = document.getElementById('clearBtn');
        const fillBtn = document.getElementById('fillBtn');
        const brushBtn = document.getElementById('brushBtn');
        const currentColorText = document.getElementById('currentColorText');
        
        // –ü–∞–ª–∏—Ç—Ä–∞ —Ü–≤–µ—Ç–æ–≤
        const colors = [
            { hex: '#ff6b6b', name: '–ö—Ä–∞—Å–Ω—ã–π' },
            { hex: '#4ecdc4', name: '–ë–∏—Ä—é–∑–æ–≤—ã–π' },
            { hex: '#45b7d1', name: '–ì–æ–ª—É–±–æ–π' },
            { hex: '#96ceb4', name: '–ó–µ–ª–µ–Ω—ã–π' },
            { hex: '#feca57', name: '–ñ–µ–ª—Ç—ã–π' },
            { hex: '#ff9ff3', name: '–†–æ–∑–æ–≤—ã–π' },
            { hex: '#a29bfe', name: '–§–∏–æ–ª–µ—Ç–æ–≤—ã–π' },
            { hex: '#fd79a8', name: '–ú–∞–ª–∏–Ω–æ–≤—ã–π' },
            { hex: '#00cec9', name: '–ë–∏—Ä—é–∑–∞' },
            { hex: '#ffeaa7', name: '–°–≤–µ—Ç–ª–æ-–∂–µ–ª—Ç—ã–π' },
            { hex: '#fab1a0', name: '–ü–µ—Ä—Å–∏–∫–æ–≤—ã–π' },
            { hex: '#74b9ff', name: '–°–≤–µ—Ç–ª–æ-—Å–∏–Ω–∏–π' }
        ];
        
        // –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —Ä–∞—Å–∫—Ä–∞—Å–∫–∏
        const images = [
            { name: '–ë–∞–±–æ—á–∫–∞', path: 'butterfly', emoji: 'ü¶ã' },
            { name: '–†—ã–±–∫–∞', path: 'fish', emoji: 'üê†' },
            { name: '–¶–≤–µ—Ç–æ–∫', path: 'flower', emoji: 'üå∫' },
            { name: '–î–æ–º–∏–∫', path: 'house', emoji: 'üè†' },
            { name: '–ú–∞—à–∏–Ω–∫–∞', path: 'car', emoji: 'üöó' },
            { name: '–°–æ–ª–Ω—ã—à–∫–æ', path: 'sun', emoji: '‚òÄÔ∏è' }
        ];
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è canvas
        function initCanvas() {
            const container = document.querySelector('.canvas-wrapper');
            const rect = container.getBoundingClientRect();
            canvas.width = rect.width;
            canvas.height = rect.height;
        }
        
        // –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ª–∏—Ç—Ä—ã —Ü–≤–µ—Ç–æ–≤
        colors.forEach(color => {
            const colorItem = document.createElement('div');
            colorItem.className = 'color-item';
            colorItem.dataset.color = color.hex;
            colorItem.dataset.name = color.name;
            
            const colorOption = document.createElement('div');
            colorOption.className = 'color-option';
            colorOption.style.backgroundColor = color.hex;
            
            const colorName = document.createElement('div');
            colorName.className = 'color-name';
            colorName.textContent = color.name;
            
            colorItem.appendChild(colorOption);
            colorItem.appendChild(colorName);
            
            colorItem.addEventListener('click', () => {
                // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö —Ü–≤–µ—Ç–æ–≤
                document.querySelectorAll('.color-item').forEach(opt => {
                    opt.classList.remove('active');
                });
                
                // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É —Ü–≤–µ—Ç—É
                colorItem.classList.add('active');
                
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π —Ü–≤–µ—Ç
                currentColor = color.hex;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Ü–≤–µ—Ç–∞
                currentColorText.textContent = `–†–∏—Å—É–µ–º: ${color.name}`;
                
                // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Ü–≤–µ—Ç–∞
                playSound(color.hex);
            });
            
            colorPalette.appendChild(colorItem);
        });
        
        // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –ø–µ—Ä–≤—ã–π —Ü–≤–µ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        document.querySelector('.color-item').classList.add('active');
        currentColorText.textContent = `–†–∏—Å—É–µ–º: ${colors[0].name}`;
        
        // –°–æ–∑–¥–∞–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
        images.forEach((image, index) => {
            const imageElement = document.createElement('div');
            imageElement.className = 'image-option';
            imageElement.dataset.image = image.path;
            
            const imageEmoji = document.createElement('div');
            imageEmoji.className = 'image-emoji';
            imageEmoji.textContent = image.emoji;
            
            const imageName = document.createElement('div');
            imageName.className = 'image-name';
            imageName.textContent = image.name;
            
            imageElement.appendChild(imageEmoji);
            imageElement.appendChild(imageName);
            
            imageElement.addEventListener('click', () => {
                // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
                document.querySelectorAll('.image-option').forEach(opt => {
                    opt.classList.remove('active');
                });
                
                // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é
                imageElement.classList.add('active');
                
                // –û—á–∏—â–∞–µ–º canvas –∏ —Ä–∏—Å—É–µ–º –≤—ã–±—Ä–∞–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                drawOutline(ctx, image.path);
            });
            
            imagesSelector.appendChild(imageElement);
        });
        
        // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –ø–µ—Ä–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        document.querySelector('.image-option').classList.add('active');
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ç—É—Ä–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
        function drawOutline(context, type) {
            context.strokeStyle = '#333';
            context.lineWidth = 2;
            
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const scale = Math.min(canvas.width, canvas.height) / 500;
            
            switch(type) {
                case 'butterfly':
                    // –ö–æ–Ω—Ç—É—Ä –±–∞–±–æ—á–∫–∏
                    context.beginPath();
                    
                    // –¢–µ–ª–æ –±–∞–±–æ—á–∫–∏
                    context.moveTo(centerX, centerY - 80 * scale);
                    context.lineTo(centerX, centerY + 80 * scale);
                    
                    // –í–µ—Ä—Ö–Ω–∏–µ –∫—Ä—ã–ª—å—è
                    context.moveTo(centerX, centerY - 30 * scale);
                    context.bezierCurveTo(
                        centerX - 120 * scale, centerY - 50 * scale,
                        centerX - 140 * scale, centerY + 20 * scale,
                        centerX, centerY + 20 * scale
                    );
                    
                    context.moveTo(centerX, centerY - 30 * scale);
                    context.bezierCurveTo(
                        centerX + 120 * scale, centerY - 50 * scale,
                        centerX + 140 * scale, centerY + 20 * scale,
                        centerX, centerY + 20 * scale
                    );
                    
                    // –ù–∏–∂–Ω–∏–µ –∫—Ä—ã–ª—å—è
                    context.moveTo(centerX, centerY + 20 * scale);
                    context.bezierCurveTo(
                        centerX - 100 * scale, centerY + 40 * scale,
                        centerX - 120 * scale, centerY + 100 * scale,
                        centerX, centerY + 80 * scale
                    );
                    
                    context.moveTo(centerX, centerY + 20 * scale);
                    context.bezierCurveTo(
                        centerX + 100 * scale, centerY + 40 * scale,
                        centerX + 120 * scale, centerY + 100 * scale,
                        centerX, centerY + 80 * scale
                    );
                    
                    context.stroke();
                    break;
                    
                case 'fish':
                    // –ö–æ–Ω—Ç—É—Ä —Ä—ã–±–∫–∏
                    context.beginPath();
                    context.ellipse(centerX, centerY, 140 * scale, 80 * scale, 0, 0, Math.PI * 2);
                    context.moveTo(centerX - 140 * scale, centerY);
                    context.lineTo(centerX - 170 * scale, centerY - 30 * scale);
                    context.lineTo(centerX - 170 * scale, centerY + 30 * scale);
                    context.closePath();
                    context.moveTo(centerX + 60 * scale, centerY - 25 * scale);
                    context.lineTo(centerX + 100 * scale, centerY);
                    context.lineTo(centerX + 60 * scale, centerY + 25 * scale);
                    context.closePath();
                    context.stroke();
                    break;
                    
                case 'flower':
                    // –ö–æ–Ω—Ç—É—Ä —Ü–≤–µ—Ç–∫–∞
                    context.beginPath();
                    context.arc(centerX, centerY, 70 * scale, 0, Math.PI * 2);
                    context.stroke();
                    
                    for (let i = 0; i < 8; i++) {
                        const angle = (i / 8) * Math.PI * 2;
                        const x = centerX + Math.cos(angle) * 120 * scale;
                        const y = centerY + Math.sin(angle) * 120 * scale;
                        context.beginPath();
                        context.arc(x, y, 45 * scale, 0, Math.PI * 2);
                        context.stroke();
                    }
                    break;
                    
                case 'house':
                    // –ö–æ–Ω—Ç—É—Ä –¥–æ–º–∏–∫–∞
                    context.beginPath();
                    context.rect(centerX - 120 * scale, centerY - 60 * scale, 240 * scale, 160 * scale);
                    context.moveTo(centerX - 120 * scale, centerY - 60 * scale);
                    context.lineTo(centerX, centerY - 140 * scale);
                    context.lineTo(centerX + 120 * scale, centerY - 60 * scale);
                    context.stroke();
                    
                    // –û–∫–Ω–æ
                    context.beginPath();
                    context.rect(centerX - 60 * scale, centerY - 20 * scale, 50 * scale, 50 * scale);
                    context.stroke();
                    
                    // –î–≤–µ—Ä—å
                    context.beginPath();
                    context.rect(centerX + 20 * scale, centerY + 30 * scale, 60 * scale, 80 * scale);
                    context.stroke();
                    break;
                    
                case 'car':
                    // –ö–æ–Ω—Ç—É—Ä –º–∞—à–∏–Ω–∫–∏
                    context.beginPath();
                    context.rect(centerX - 140 * scale, centerY + 20 * scale, 280 * scale, 60 * scale);
                    context.rect(centerX - 100 * scale, centerY - 20 * scale, 200 * scale, 40 * scale);
                    context.stroke();
                    
                    // –ö–æ–ª–µ—Å–∞
                    context.beginPath();
                    context.arc(centerX - 70 * scale, centerY + 80 * scale, 30 * scale, 0, Math.PI * 2);
                    context.arc(centerX + 70 * scale, centerY + 80 * scale, 30 * scale, 0, Math.PI * 2);
                    context.stroke();
                    break;
                    
                case 'sun':
                    // –ö–æ–Ω—Ç—É—Ä —Å–æ–ª–Ω—ã—à–∫–∞
                    context.beginPath();
                    context.arc(centerX, centerY, 90 * scale, 0, Math.PI * 2);
                    context.stroke();
                    
                    for (let i = 0; i < 12; i++) {
                        const angle = (i / 12) * Math.PI * 2;
                        const x1 = centerX + Math.cos(angle) * 90 * scale;
                        const y1 = centerY + Math.sin(angle) * 90 * scale;
                        const x2 = centerX + Math.cos(angle) * 130 * scale;
                        const y2 = centerY + Math.sin(angle) * 130 * scale;
                        
                        context.beginPath();
                        context.moveTo(x1, y1);
                        context.lineTo(x2, y2);
                        context.stroke();
                    }
                    break;
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∑–≤—É–∫–∞
        function playSound(color) {
            if (audioContext.state === 'suspended') {
                audioContext.resume();
            }
            
            // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —Ü–≤–µ—Ç –≤ —á–∞—Å—Ç–æ—Ç—É
            const frequency = colorToFrequency(color);
            
            // –°–æ–∑–¥–∞–µ–º –æ—Å—Ü–∏–ª–ª—è—Ç–æ—Ä
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –æ—Å—Ü–∏–ª–ª—è—Ç–æ—Ä
            oscillator.type = 'sine';
            oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –≥—Ä–æ–º–∫–æ—Å—Ç—å
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.8);
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –æ—Å—Ü–∏–ª–ª—è—Ç–æ—Ä
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.8);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ü–≤–µ—Ç–∞ –≤ —á–∞—Å—Ç–æ—Ç—É
        function colorToFrequency(color) {
            // –£–±–∏—Ä–∞–µ–º —Å–∏–º–≤–æ–ª # –∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º HEX –≤ —á–∏—Å–ª–æ
            const hex = color.replace('#', '');
            const value = parseInt(hex, 16);
            
            // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ —á–∞—Å—Ç–æ—Ç—É –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 200-1000 –ì—Ü
            return 200 + (value % 800);
        }
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Ä–∏—Å–æ–≤–∞–Ω–∏—è
        clearBtn.addEventListener('click', () => {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            // –ü–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º –∫–æ–Ω—Ç—É—Ä –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
            const activeImage = document.querySelector('.image-option.active');
            if (activeImage) {
                drawOutline(ctx, activeImage.dataset.image);
            }
        });
        
        fillBtn.addEventListener('click', () => {
            currentTool = 'fill';
            fillBtn.classList.add('active');
            brushBtn.classList.remove('active');
        });
        
        brushBtn.addEventListener('click', () => {
            currentTool = 'brush';
            brushBtn.classList.add('active');
            fillBtn.classList.remove('active');
        });
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è –Ω–∞ canvas
        canvas.addEventListener('mousedown', startDrawing);
        canvas.addEventListener('mousemove', draw);
        canvas.addEventListener('mouseup', stopDrawing);
        canvas.addEventListener('mouseout', stopDrawing);
        
        // –î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
        canvas.addEventListener('touchstart', startDrawing);
        canvas.addEventListener('touchmove', draw);
        canvas.addEventListener('touchend', stopDrawing);
        
        function startDrawing(e) {
            isDrawing = true;
            draw(e);
        }
        
        function draw(e) {
            if (!isDrawing) return;
            
            // –ü–æ–ª—É—á–∞–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –º—ã—à–∏ –∏–ª–∏ –∫–∞—Å–∞–Ω–∏—è
            const rect = canvas.getBoundingClientRect();
            let x, y;
            
            if (e.type.includes('touch')) {
                x = e.touches[0].clientX - rect.left;
                y = e.touches[0].clientY - rect.top;
            } else {
                x = e.clientX - rect.left;
                y = e.clientY - rect.top;
            }
            
            // –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Å–æ–≥–ª–∞—Å–Ω–æ —Ä–∞–∑–º–µ—Ä—É canvas
            x = x * (canvas.width / rect.width);
            y = y * (canvas.height / rect.height);
            
            if (currentTool === 'brush') {
                // –†–∏—Å—É–µ–º –∫–∏—Å—Ç—å—é
                ctx.fillStyle = currentColor;
                ctx.beginPath();
                ctx.arc(x, y, 12, 0, Math.PI * 2);
                ctx.fill();
            } else if (currentTool === 'fill') {
                // –ó–∞–ª–∏–≤–∫–∞ –≤—Å–µ–π –æ–±–ª–∞—Å—Ç–∏
                ctx.fillStyle = currentColor;
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–∏—Å–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –∑–∞–ª–∏–≤–∫–∏
                isDrawing = false;
            }
        }
        
        function stopDrawing() {
            isDrawing = false;
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', () => {
            initCanvas();
            drawOutline(ctx, images[0].path);
        });
        
        // –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ canvas –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
        window.addEventListener('resize', () => {
            initCanvas();
            const activeImage = document.querySelector('.image-option.active');
            if (activeImage) {
                drawOutline(ctx, activeImage.dataset.image);
            }
        });
    </script>
</body>
</html>