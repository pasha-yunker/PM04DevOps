<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéµ –ù–∞–π–¥–∏ –∑–≤—É–∫</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 15px;
            color: white;
        }
        
        .header {
            text-align: center;
            margin-bottom: 15px;
            width: 100%;
            max-width: 600px;
        }
        
        h1 {
            font-size: 1.8rem;
            margin-bottom: 5px;
            text-shadow: 2px 2px 0 rgba(0,0,0,0.2);
        }
        
        .subtitle {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-bottom: 10px;
        }
        
        .how-to-play-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50px;
            padding: 6px 15px;
            color: white;
            font-size: 0.8rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }
        
        .how-to-play-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .game-container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
            width: 100%;
            max-width: 600px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .game-info {
            display: flex;
            justify-content: space-between;
            width: 100%;
        }
        
        .score, .level {
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 15px;
            border-radius: 50px;
            font-size: 0.9rem;
            font-weight: bold;
        }
        
        .sound-area {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            padding: 15px;
            text-align: center;
        }
        
        .sound-button {
            background: #FFD166;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 1.5rem;
            cursor: pointer;
            margin-bottom: 8px;
            transition: all 0.3s;
        }
        
        .sound-button:hover {
            transform: scale(1.05);
            background: #FFB347;
        }
        
        .sound-question {
            font-size: 1.1rem;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .hint {
            font-size: 0.8rem;
            opacity: 0.8;
            min-height: 18px;
        }
        
        .options-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            width: 100%;
        }
        
        .option {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            padding: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            min-height: 90px;
            justify-content: center;
        }
        
        .option:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-2px);
        }
        
        .option-image {
            font-size: 2rem;
        }
        
        .option-name {
            font-size: 0.9rem;
            font-weight: bold;
        }
        
        .feedback {
            font-size: 1.1rem;
            font-weight: bold;
            text-align: center;
            padding: 10px;
            border-radius: 8px;
            width: 100%;
            transition: all 0.3s;
            min-height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .correct {
            background: rgba(46, 204, 113, 0.3);
            color: #2ecc71;
        }
        
        .incorrect {
            background: rgba(231, 76, 60, 0.3);
            color: #e74c3c;
        }
        
        .controls {
            display: flex;
            gap: 10px;
            width: 100%;
        }
        
        .control-button {
            padding: 10px 15px;
            border: none;
            border-radius: 50px;
            font-size: 0.9rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            flex: 1;
        }
        
        .next-button {
            background: #2ecc71;
            color: white;
        }
        
        .next-button:hover {
            background: #27ae60;
        }
        
        .hint-button {
            background: #3498db;
            color: white;
        }
        
        .hint-button:hover {
            background: #2980b9;
        }
        
        .instructions {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            margin-top: 10px;
            max-width: 600px;
            text-align: center;
            font-size: 0.8rem;
            display: none;
        }
        
        .instructions h2 {
            margin-bottom: 8px;
            font-size: 1rem;
            color: #FFD166;
        }
        
        .instructions p {
            margin-bottom: 5px;
            line-height: 1.3;
        }
        
        .instructions.show {
            display: block;
            animation: fadeIn 0.3s ease-in;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
            40% {transform: translateY(-5px);}
            60% {transform: translateY(-3px);}
        }
        
        .bounce {
            animation: bounce 0.4s;
        }
        
        @keyframes pulse {
            0% {transform: scale(1);}
            50% {transform: scale(1.02);}
            100% {transform: scale(1);}
        }
        
        .pulse {
            animation: pulse 0.3s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-5px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .footer {
            margin-top: 10px;
            text-align: center;
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.7rem;
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 480px) {
            .game-container {
                padding: 15px;
                gap: 12px;
            }
            
            h1 {
                font-size: 1.5rem;
            }
            
            .options-grid {
                grid-template-columns: 1fr;
                gap: 8px;
            }
            
            .option {
                min-height: 80px;
                padding: 10px;
            }
            
            .option-image {
                font-size: 1.8rem;
            }
            
            .sound-button {
                width: 50px;
                height: 50px;
                font-size: 1.3rem;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üéµ –ù–∞–π–¥–∏ –∑–≤—É–∫</h1>
        <p class="subtitle">–°–ª—É—à–∞–π –∑–≤—É–∫ –∏ –≤—ã–±–∏—Ä–∞–π –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É!</p>
        <button class="how-to-play-btn" id="howToPlayBtn">
            ‚ùì –ö–∞–∫ –∏–≥—Ä–∞—Ç—å?
        </button>
    </div>
    
    <div class="game-container">
        <div class="game-info">
            <div class="score">–û—á–∫–∏: <span id="score">0</span></div>
            <div class="level">–£—Ä–æ–≤–µ–Ω—å: <span id="level">1</span></div>
        </div>
        
        <div class="sound-area">
            <button class="sound-button" id="playSound">üîä</button>
            <div class="sound-question" id="question">–ö–∞–∫–æ–π —ç—Ç–æ –∑–≤—É–∫?</div>
            <div class="hint" id="hintText"></div>
        </div>
        
        <div class="options-grid" id="optionsContainer">
            <!-- –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
        </div>
        
        <div class="feedback" id="feedback"></div>
        
        <div class="controls">
            <button class="control-button next-button" id="nextButton">–°–ª–µ–¥—É—é—â–∏–π</button>
            <button class="control-button hint-button" id="hintButton">–ü–æ–¥—Å–∫–∞–∑–∫–∞</button>
        </div>
    </div>
    
    <div class="instructions" id="instructions">
        <h2>üéÆ –ö–∞–∫ –∏–≥—Ä–∞—Ç—å?</h2>
        <p>1. –ù–∞–∂–º–∏ üîä —á—Ç–æ–±—ã –ø–æ—Å–ª—É—à–∞—Ç—å –∑–≤—É–∫</p>
        <p>2. –í—ã–±–µ—Ä–∏ –∫–∞—Ä—Ç–∏–Ω–∫—É, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∑–≤—É–∫—É</p>
        <p>3. –ü–æ–ª—É—á–∞–π 10 –æ—á–∫–æ–≤ –∑–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç</p>
        <p>4. –ò—Å–ø–æ–ª—å–∑—É–π –ø–æ–¥—Å–∫–∞–∑–∫—É –µ—Å–ª–∏ –Ω—É–∂–Ω–æ</p>
    </div>

    <div class="footer">
        <p>–†–∞–∑–≤–∏–≤–∞—é—â–∞—è –∏–≥—Ä–∞ –¥–ª—è –¥–µ—Ç–µ–π</p>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞—É–¥–∏–æ–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const playSoundButton = document.getElementById('playSound');
        const questionElement = document.getElementById('question');
        const hintTextElement = document.getElementById('hintText');
        const optionsContainer = document.getElementById('optionsContainer');
        const feedbackElement = document.getElementById('feedback');
        const nextButton = document.getElementById('nextButton');
        const hintButton = document.getElementById('hintButton');
        const scoreElement = document.getElementById('score');
        const levelElement = document.getElementById('level');
        const howToPlayBtn = document.getElementById('howToPlayBtn');
        const instructions = document.getElementById('instructions');
        
        // –ò–≥—Ä–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let score = 0;
        let level = 1;
        let currentSound = null;
        let correctOption = null;
        let options = [];
        let hintsUsed = 0;
        let gameActive = true;
        
        // –ó–≤—É–∫–∏ –∏ –∏—Ö –æ–ø–∏—Å–∞–Ω–∏—è
        const sounds = [
            {
                name: "–°–æ–±–∞–∫–∞",
                emoji: "üê∂",
                frequency: 300,
                duration: 800,
                type: "sawtooth",
                hint: "–õ—é–±–∏—Ç –≥—É–ª—è—Ç—å –∏ –≤–∏–ª—è—Ç—å —Ö–≤–æ—Å—Ç–æ–º"
            },
            {
                name: "–ö–æ—à–∫–∞",
                emoji: "üê±",
                frequency: 400,
                duration: 600,
                type: "sine",
                hint: "–ú—É—Ä–ª—ã—á–µ—Ç –∏ –ª–æ–≤–∏—Ç –º—ã—à–µ–π"
            },
            {
                name: "–ö–æ—Ä–æ–≤–∞",
                emoji: "üêÆ",
                frequency: 150,
                duration: 1000,
                type: "square",
                hint: "–î–∞–µ—Ç –º–æ–ª–æ–∫–æ"
            },
            {
                name: "–ü–µ—Ç—É—Ö",
                emoji: "üêì",
                frequency: 600,
                duration: 300,
                type: "triangle",
                hint: "–ü–æ–µ—Ç –Ω–∞ —Ä–∞—Å—Å–≤–µ—Ç–µ"
            },
            {
                name: "–°–≤–∏–Ω—å—è",
                emoji: "üê∑",
                frequency: 250,
                duration: 500,
                type: "sawtooth",
                hint: "–õ—é–±–∏—Ç –≤–∞–ª—è—Ç—å—Å—è –≤ –≥—Ä—è–∑–∏"
            },
            {
                name: "–õ–µ–≤",
                emoji: "ü¶Å",
                frequency: 120,
                duration: 1200,
                type: "square",
                hint: "–¶–∞—Ä—å –∑–≤–µ—Ä–µ–π —Å –≥—Ä–∏–≤–æ–π"
            },
            {
                name: "–ü—á–µ–ª–∞",
                emoji: "üêù",
                frequency: 800,
                duration: 1500,
                type: "sine",
                hint: "–ú–∞–ª–µ–Ω—å–∫–æ–µ –Ω–∞—Å–µ–∫–æ–º–æ–µ, –∫–æ—Ç–æ—Ä–æ–µ –¥–µ–ª–∞–µ—Ç –º–µ–¥"
            },
            {
                name: "–õ—è–≥—É—à–∫–∞",
                emoji: "üê∏",
                frequency: 200,
                duration: 400,
                type: "sawtooth",
                hint: "–ó–µ–ª–µ–Ω—ã–π –ø—Ä—ã–≥—É–Ω, –∂–∏–≤—É—â–∏–π —É –≤–æ–¥—ã"
            }
        ];
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
        function initGame() {
            score = 0;
            level = 1;
            hintsUsed = 0;
            updateScore();
            generateQuestion();
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç–∞
        function updateScore() {
            scoreElement.textContent = score;
            levelElement.textContent = level;
        }
        
        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
        function generateQuestion() {
            optionsContainer.innerHTML = '';
            feedbackElement.textContent = '';
            feedbackElement.className = 'feedback';
            hintTextElement.textContent = '';
            gameActive = true;
            
            const soundIndex = Math.floor(Math.random() * sounds.length);
            currentSound = sounds[soundIndex];
            
            options = [currentSound];
            
            while (options.length < 4) {
                const randomSound = sounds[Math.floor(Math.random() * sounds.length)];
                if (!options.includes(randomSound)) {
                    options.push(randomSound);
                }
            }
            
            options = shuffleArray(options);
            correctOption = currentSound;
            
            questionElement.textContent = `–ö–∞–∫–æ–π —ç—Ç–æ –∑–≤—É–∫?`;
            
            options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.innerHTML = `
                    <div class="option-image">${option.emoji}</div>
                    <div class="option-name">${option.name}</div>
                `;
                
                optionElement.addEventListener('click', () => checkAnswer(option));
                optionsContainer.appendChild(optionElement);
            });
            
            setTimeout(() => {
                playSound(currentSound);
            }, 200);
        }
        
        // –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–≤—É–∫–∞
        function playSound(sound) {
            if (audioContext.state === 'suspended') {
                audioContext.resume();
            }
            
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.type = sound.type;
            
            if (sound.name === "–°–æ–±–∞–∫–∞") {
                oscillator.frequency.setValueAtTime(300, audioContext.currentTime);
                oscillator.frequency.setValueAtTime(500, audioContext.currentTime + 0.1);
                oscillator.frequency.setValueAtTime(300, audioContext.currentTime + 0.2);
            } else if (sound.name === "–ö–æ—à–∫–∞") {
                oscillator.frequency.setValueAtTime(400, audioContext.currentTime);
                oscillator.frequency.setValueAtTime(600, audioContext.currentTime + 0.1);
            } else if (sound.name === "–ö–æ—Ä–æ–≤–∞") {
                oscillator.frequency.setValueAtTime(150, audioContext.currentTime);
                oscillator.frequency.exponentialRampToValueAtTime(120, audioContext.currentTime + 0.5);
            } else if (sound.name === "–ü–µ—Ç—É—Ö") {
                oscillator.frequency.setValueAtTime(600, audioContext.currentTime);
                oscillator.frequency.exponentialRampToValueAtTime(800, audioContext.currentTime + 0.2);
                oscillator.frequency.setValueAtTime(400, audioContext.currentTime + 0.3);
            } else if (sound.name === "–°–≤–∏–Ω—å—è") {
                oscillator.frequency.setValueAtTime(250, audioContext.currentTime);
                oscillator.frequency.setValueAtTime(200, audioContext.currentTime + 0.2);
                oscillator.frequency.setValueAtTime(250, audioContext.currentTime + 0.4);
            } else if (sound.name === "–õ–µ–≤") {
                oscillator.frequency.setValueAtTime(120, audioContext.currentTime);
                oscillator.frequency.exponentialRampToValueAtTime(80, audioContext.currentTime + 0.8);
            } else if (sound.name === "–ü—á–µ–ª–∞") {
                oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
                for (let i = 0.1; i < 1.5; i += 0.1) {
                    oscillator.frequency.setValueAtTime(800 + Math.sin(i * 20) * 100, audioContext.currentTime + i);
                }
            } else if (sound.name === "–õ—è–≥—É—à–∫–∞") {
                oscillator.frequency.setValueAtTime(200, audioContext.currentTime);
                oscillator.frequency.setValueAtTime(150, audioContext.currentTime + 0.1);
                oscillator.frequency.setValueAtTime(200, audioContext.currentTime + 0.2);
            } else {
                oscillator.frequency.setValueAtTime(sound.frequency, audioContext.currentTime);
            }
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + sound.duration/1000);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + sound.duration/1000);
            
            playSoundButton.classList.add('pulse');
            setTimeout(() => {
                playSoundButton.classList.remove('pulse');
            }, 300);
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–∞
        function checkAnswer(selectedOption) {
            if (!gameActive) return;
            
            gameActive = false;
            
            if (selectedOption === correctOption) {
                score += 10;
                feedbackElement.textContent = '–ü—Ä–∞–≤–∏–ª—å–Ω–æ! üëç';
                feedbackElement.className = 'feedback correct';
                
                const correctElement = Array.from(optionsContainer.children).find(
                    child => child.querySelector('.option-name').textContent === correctOption.name
                );
                if (correctElement) {
                    correctElement.classList.add('bounce');
                }
                
                if (score % 30 === 0) {
                    level++;
                    feedbackElement.textContent += ` –£—Ä–æ–≤–µ–Ω—å ${level}!`;
                }
            } else {
                feedbackElement.textContent = '–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ! üëé';
                feedbackElement.className = 'feedback incorrect';
                
                const correctElement = Array.from(optionsContainer.children).find(
                    child => child.querySelector('.option-name').textContent === correctOption.name
                );
                if (correctElement) {
                    correctElement.style.background = 'rgba(46, 204, 113, 0.3)';
                    correctElement.classList.add('pulse');
                }
            }
            
            updateScore();
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ –ø–æ–¥—Å–∫–∞–∑–∫–∏
        function showHint() {
            if (hintsUsed < 3) {
                hintTextElement.textContent = correctOption.hint;
                hintsUsed++;
                hintTextElement.classList.add('pulse');
                setTimeout(() => {
                    hintTextElement.classList.remove('pulse');
                }, 300);
            } else {
                hintTextElement.textContent = '–ü–æ–¥—Å–∫–∞–∑–∫–∏ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å!';
            }
        }
        
        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏—è –º–∞—Å—Å–∏–≤–∞
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
        playSoundButton.addEventListener('click', () => {
            if (currentSound) {
                playSound(currentSound);
            }
        });
        
        nextButton.addEventListener('click', generateQuestion);
        hintButton.addEventListener('click', showHint);
        
        howToPlayBtn.addEventListener('click', () => {
            instructions.classList.toggle('show');
        });
        
        document.addEventListener('click', (e) => {
            if (!instructions.contains(e.target) && !howToPlayBtn.contains(e.target)) {
                instructions.classList.remove('show');
            }
        });
        
        // –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã
        initGame();
    </script>
</body>
</html>