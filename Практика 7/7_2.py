import tkinter as tk  # –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É tkinter –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
from tkinter import ttk, filedialog, messagebox  # –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏ tkinter: ttk –¥–ª—è —Å—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –≤–∏–¥–∂–µ—Ç–æ–≤, filedialog –¥–ª—è –¥–∏–∞–ª–æ–≥–æ–≤ –æ—Ç–∫—Ä—ã—Ç–∏—è —Ñ–∞–π–ª–æ–≤, messagebox –¥–ª—è –≤—Å–ø–ª—ã–≤–∞—é—â–∏—Ö –æ–∫–æ–Ω
import numpy as np  # –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É NumPy –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–∞—Å—Å–∏–≤–∞–º–∏ –∏ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
import matplotlib.pyplot as plt  # –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É matplotlib –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
from matplotlib.backends.backend_tkagg import FigureCanvasTkAgg  # –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –º–æ–¥—É–ª—å –¥–ª—è –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ matplotlib –≤ tkinter
from matplotlib.figure import Figure  # –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –∫–ª–∞—Å—Å Figure –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∏–≥—É—Ä matplotlib
import cv2  # –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É OpenCV –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
from PIL import Image, ImageTk  # –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É Pillow –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç tkinter
import random  # –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –º–æ–¥—É–ª—å random –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª
import threading  # –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –º–æ–¥—É–ª—å threading –¥–ª—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏
import time  # –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –º–æ–¥—É–ª—å time –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏

class NetworkImageTransmissionSimulator:
    def __init__(self, root):
        """
        –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–ª–∞—Å—Å–∞, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≥–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ –∏ –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
        """
        self.root = root  # —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –≥–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ tkinter
        self.root.title("–°–∏–º—É–ª—è—Ç–æ—Ä –ø–µ—Ä–µ–¥–∞—á–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ —Å–µ—Ç—å | –†–∞–±–æ—Ç–∞ –ü–∞–≤–ª–∞ –Æ–Ω–∫–µ—Ä")  # —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ –æ–∫–Ω–∞
        
        # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º
        self.root.state('zoomed')  # –º–∞–∫—Å–∏–º–∏–∑–∏—Ä—É–µ—Ç –æ–∫–Ω–æ –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Windows)
        self.root.attributes('-fullscreen', True)  # —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Linux)
        
        # –î–æ–±–∞–≤–ª—è–µ–º –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–º —Ä–µ–∂–∏–º–æ–º
        self.root.bind('<Escape>', lambda e: self.root.attributes('-fullscreen', False))  # –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç –∫–ª–∞–≤–∏—à—É Escape –¥–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
        self.root.bind('<F11>', lambda e: self.root.attributes('-fullscreen', 
                            not self.root.attributes('-fullscreen')))  # –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç F11 –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
        
        # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
        self.original_image = None  # —Å–æ–∑–¥–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–ø–æ–∫–∞ –Ω–µ –∑–∞–¥–∞–Ω–æ)
        self.received_image = None  # —Å–æ–∑–¥–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–ø–æ–∫–∞ –Ω–µ –∑–∞–¥–∞–Ω–æ)
        self.original_image_data = None  # —Å–æ–∑–¥–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ numpy array
        self.received_image_data = None  # —Å–æ–∑–¥–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ numpy array
        
        # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–∏–º—É–ª—è—Ü–∏–∏
        self.simulation_running = False  # —Å–æ–∑–¥–∞–µ—Ç —Ñ–ª–∞–≥ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏–º—É–ª—è—Ü–∏–∏ (–∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞)
        self.stats_data = []  # —Å–æ–∑–¥–∞–µ—Ç –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å–∏–º—É–ª—è—Ü–∏–∏
        
        # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        self.network_speed = tk.IntVar(value=10)  # —Å–æ–∑–¥–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ —Å–µ—Ç–∏ —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10 –ø–∞–∫–µ—Ç–æ–≤/—Ç–∞–∫
        self.packet_loss = tk.IntVar(value=5)  # —Å–æ–∑–¥–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –ø–æ—Ç–µ—Ä–∏ –ø–∞–∫–µ—Ç–æ–≤ —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5%
        self.bit_error = tk.IntVar(value=1)  # —Å–æ–∑–¥–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –æ—à–∏–±–∫–∏ –±–∏—Ç–æ–≤ —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1%
        self.packet_size = tk.IntVar(value=64)  # —Å–æ–∑–¥–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è —Ä–∞–∑–º–µ—Ä–∞ –ø–∞–∫–µ—Ç–∞ —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 64 –±–∞–π—Ç–∞
        
        self.setup_ui()  # –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        
    def setup_ui(self):
        """
        –°–æ–∑–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–∞
        """
        # –°–æ–∑–¥–∞–µ–º –≥–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π
        self.main_container = tk.Frame(self.root)  # —Å–æ–∑–¥–∞–µ—Ç –≥–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        self.main_container.pack(fill=tk.BOTH, expand=True)  # —Ä–∞–∑–º–µ—â–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, —Ä–∞—Å—Ç—è–≥–∏–≤–∞—è –Ω–∞ –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
        
        # –°–æ–∑–¥–∞–µ–º Canvas –¥–ª—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
        self.canvas = tk.Canvas(self.main_container)  # —Å–æ–∑–¥–∞–µ—Ç —Ö–æ–ª—Å—Ç –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
        self.canvas.pack(side=tk.LEFT, fill=tk.BOTH, expand=True)  # —Ä–∞–∑–º–µ—â–∞–µ—Ç —Ö–æ–ª—Å—Ç —Å–ª–µ–≤–∞, —Ä–∞—Å—Ç—è–≥–∏–≤–∞—è –ø–æ –≤—Å–µ–º—É –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤—É
        
        # –î–æ–±–∞–≤–ª—è–µ–º –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—É—é –ø–æ–ª–æ—Å—É –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
        v_scrollbar = ttk.Scrollbar(self.main_container, orient=tk.VERTICAL, command=self.canvas.yview)  # —Å–æ–∑–¥–∞–µ—Ç –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—É—é –ø–æ–ª–æ—Å—É –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
        v_scrollbar.pack(side=tk.RIGHT, fill=tk.Y)  # —Ä–∞–∑–º–µ—â–∞–µ—Ç –ø–æ–ª–æ—Å—É –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ —Å–ø—Ä–∞–≤–∞, –∑–∞–ø–æ–ª–Ω—è—è –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏
        
        # –î–æ–±–∞–≤–ª—è–µ–º –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—É—é –ø–æ–ª–æ—Å—É –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
        h_scrollbar = ttk.Scrollbar(self.root, orient=tk.HORIZONTAL, command=self.canvas.xview)  # —Å–æ–∑–¥–∞–µ—Ç –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—É—é –ø–æ–ª–æ—Å—É –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
        h_scrollbar.pack(side=tk.BOTTOM, fill=tk.X)  # —Ä–∞–∑–º–µ—â–∞–µ—Ç –ø–æ–ª–æ—Å—É –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –≤–Ω–∏–∑—É, –∑–∞–ø–æ–ª–Ω—è—è –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏
        
        # –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Ö–æ–ª—Å—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π
        self.canvas.configure(yscrollcommand=v_scrollbar.set, xscrollcommand=h_scrollbar.set)  # —Å–≤—è–∑—ã–≤–∞–µ—Ç —Ö–æ–ª—Å—Ç —Å –ø–æ–ª–æ—Å–∞–º–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
        self.canvas.bind('<Configure>', lambda e: self.canvas.configure(scrollregion=self.canvas.bbox("all")))  # –æ–±–Ω–æ–≤–ª—è–µ—Ç –æ–±–ª–∞—Å—Ç—å –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞
        
        # –°–æ–∑–¥–∞–µ–º —Ñ—Ä–µ–π–º –¥–ª—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –≤–Ω—É—Ç—Ä–∏ —Ö–æ–ª—Å—Ç–∞
        self.content_frame = tk.Frame(self.canvas)  # —Å–æ–∑–¥–∞–µ—Ç —Ñ—Ä–µ–π–º –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        self.canvas.create_window((0, 0), window=self.content_frame, anchor="nw")  # —Ä–∞–∑–º–µ—â–∞–µ—Ç —Ñ—Ä–µ–π–º –≤ —Ö–æ–ª—Å—Ç–µ –≤ —Å–µ–≤–µ—Ä–æ-–∑–∞–ø–∞–¥–Ω–æ–º —É–≥–ª—É
        
        # –î–æ–±–∞–≤–ª—è–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –∫–æ–ª–µ—Å–æ–º –º—ã—à–∏
        self.canvas.bind_all("<MouseWheel>", self._on_mousewheel)  # –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–∫—Ä—É—Ç–∫—É –∫–æ–ª–µ—Å–æ–º –º—ã—à–∏ (Windows)
        self.canvas.bind_all("<Button-4>", self._on_mousewheel)  # –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–∫—Ä—É—Ç–∫—É –∫–æ–ª–µ—Å–æ–º –º—ã—à–∏ (Linux)
        self.canvas.bind_all("<Button-5>", self._on_mousewheel)  # –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–∫—Ä—É—Ç–∫—É –∫–æ–ª–µ—Å–æ–º –º—ã—à–∏ (Linux)
        
        # –ó–∞–≥–æ–ª–æ–≤–æ–∫
        title_label = ttk.Label(self.content_frame, text="–°–∏–º—É–ª—è—Ç–æ—Ä –ø–µ—Ä–µ–¥–∞—á–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ —Å–µ—Ç—å", 
                               font=("Arial", 20, "bold"))  # —Å–æ–∑–¥–∞–µ—Ç –º–µ—Ç–∫—É —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∫—Ä—É–ø–Ω—ã–º —à—Ä–∏—Ñ—Ç–æ–º
        title_label.grid(row=0, column=0, columnspan=4, pady=20)  # —Ä–∞–∑–º–µ—â–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ –≤ —Å–µ—Ç–∫–µ —Å –æ—Ç—Å—Ç—É–ø–æ–º
        
        # –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
        control_frame = ttk.LabelFrame(self.content_frame, text="–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ—Ç–∏", padding="15")  # —Å–æ–∑–¥–∞–µ—Ç –≥—Ä—É–ø–ø—É –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å–µ—Ç–∏ —Å –æ—Ç—Å—Ç—É–ø–∞–º–∏
        control_frame.grid(row=1, column=0, columnspan=4, sticky=(tk.W, tk.E), pady=10, padx=20)  # —Ä–∞–∑–º–µ—â–∞–µ—Ç –≥—Ä—É–ø–ø—É —Å –æ—Ç—Å—Ç—É–ø–∞–º–∏ –∏ —Ä–∞—Å—Ç—è–≥–∏–≤–∞–Ω–∏–µ–º –ø–æ —à–∏—Ä–∏–Ω–µ
        control_frame.columnconfigure(1, weight=1)  # —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤–µ—Å –¥–ª—è –∫–æ–ª–æ–Ω–∫–∏ —Å –ø–æ–ª–∑—É–Ω–∫–∞–º–∏ (—Ä–∞—Å—Ç—è–≥–∏–≤–∞–Ω–∏–µ)
        
        # –°–∫–æ—Ä–æ—Å—Ç—å —Å–µ—Ç–∏
        ttk.Label(control_frame, text="–°–∫–æ—Ä–æ—Å—Ç—å —Å–µ—Ç–∏ (–ø–∞–∫–µ—Ç–æ–≤/—Ç–∞–∫):", font=("Arial", 10)).grid(row=0, column=0, sticky=tk.W, pady=5)  # —Å–æ–∑–¥–∞–µ—Ç –º–µ—Ç–∫—É –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ —Å–µ—Ç–∏
        speed_scale = ttk.Scale(control_frame, from_=1, to=50, variable=self.network_speed,  # —Å–æ–∑–¥–∞–µ—Ç –ø–æ–ª–∑—É–Ω–æ–∫ –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ —Å–µ—Ç–∏
                               orient=tk.HORIZONTAL, command=self.update_speed_value)  # –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è
        speed_scale.grid(row=0, column=1, padx=10, pady=5, sticky=(tk.W, tk.E))  # —Ä–∞–∑–º–µ—â–∞–µ—Ç –ø–æ–ª–∑—É–Ω–æ–∫ —Å —Ä–∞—Å—Ç—è–≥–∏–≤–∞–Ω–∏–µ–º
        self.speed_label = ttk.Label(control_frame, text="10", font=("Arial", 10))  # —Å–æ–∑–¥–∞–µ—Ç –º–µ—Ç–∫—É –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏
        self.speed_label.grid(row=0, column=2, padx=5, pady=5)  # —Ä–∞–∑–º–µ—â–∞–µ—Ç –º–µ—Ç–∫—É –∑–Ω–∞—á–µ–Ω–∏—è
        
        # –ü–æ—Ç–µ—Ä—è –ø–∞–∫–µ—Ç–æ–≤
        ttk.Label(control_frame, text="–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–æ—Ç–µ—Ä–∏ –ø–∞–∫–µ—Ç–∞ (%):", font=("Arial", 10)).grid(row=1, column=0, sticky=tk.W, pady=5)  # —Å–æ–∑–¥–∞–µ—Ç –º–µ—Ç–∫—É –¥–ª—è –ø–æ—Ç–µ—Ä–∏ –ø–∞–∫–µ—Ç–æ–≤
        loss_scale = ttk.Scale(control_frame, from_=0, to=20, variable=self.packet_loss,  # —Å–æ–∑–¥–∞–µ—Ç –ø–æ–ª–∑—É–Ω–æ–∫ –¥–ª—è –ø–æ—Ç–µ—Ä–∏ –ø–∞–∫–µ—Ç–æ–≤
                              orient=tk.HORIZONTAL, command=self.update_loss_value)  # –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è
        loss_scale.grid(row=1, column=1, padx=10, pady=5, sticky=(tk.W, tk.E))  # —Ä–∞–∑–º–µ—â–∞–µ—Ç –ø–æ–ª–∑—É–Ω–æ–∫ —Å —Ä–∞—Å—Ç—è–≥–∏–≤–∞–Ω–∏–µ–º
        self.loss_label = ttk.Label(control_frame, text="5", font=("Arial", 10))  # —Å–æ–∑–¥–∞–µ—Ç –º–µ—Ç–∫—É –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ—Ç–µ—Ä—å
        self.loss_label.grid(row=1, column=2, padx=5, pady=5)  # —Ä–∞–∑–º–µ—â–∞–µ—Ç –º–µ—Ç–∫—É –∑–Ω–∞—á–µ–Ω–∏—è
        
        # –û—à–∏–±–∫–∏ –±–∏—Ç–æ–≤
        ttk.Label(control_frame, text="–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—à–∏–±–∫–∏ –≤ –±–∏—Ç–µ (%):", font=("Arial", 10)).grid(row=2, column=0, sticky=tk.W, pady=5)  # —Å–æ–∑–¥–∞–µ—Ç –º–µ—Ç–∫—É –¥–ª—è –æ—à–∏–±–æ–∫ –±–∏—Ç–æ–≤
        error_scale = ttk.Scale(control_frame, from_=0, to=10, variable=self.bit_error,  # —Å–æ–∑–¥–∞–µ—Ç –ø–æ–ª–∑—É–Ω–æ–∫ –¥–ª—è –æ—à–∏–±–æ–∫ –±–∏—Ç–æ–≤
                               orient=tk.HORIZONTAL, command=self.update_error_value)  # –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è
        error_scale.grid(row=2, column=1, padx=10, pady=5, sticky=(tk.W, tk.E))  # —Ä–∞–∑–º–µ—â–∞–µ—Ç –ø–æ–ª–∑—É–Ω–æ–∫ —Å —Ä–∞—Å—Ç—è–≥–∏–≤–∞–Ω–∏–µ–º
        self.error_label = ttk.Label(control_frame, text="1", font=("Arial", 10))  # —Å–æ–∑–¥–∞–µ—Ç –º–µ—Ç–∫—É –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è –æ—à–∏–±–æ–∫
        self.error_label.grid(row=2, column=2, padx=5, pady=5)  # —Ä–∞–∑–º–µ—â–∞–µ—Ç –º–µ—Ç–∫—É –∑–Ω–∞—á–µ–Ω–∏—è
        
        # –†–∞–∑–º–µ—Ä –ø–∞–∫–µ—Ç–∞
        ttk.Label(control_frame, text="–†–∞–∑–º–µ—Ä –ø–∞–∫–µ—Ç–∞ (–±–∞–π—Ç):", font=("Arial", 10)).grid(row=3, column=0, sticky=tk.W, pady=5)  # —Å–æ–∑–¥–∞–µ—Ç –º–µ—Ç–∫—É –¥–ª—è —Ä–∞–∑–º–µ—Ä–∞ –ø–∞–∫–µ—Ç–∞
        size_scale = ttk.Scale(control_frame, from_=8, to=128, variable=self.packet_size,  # —Å–æ–∑–¥–∞–µ—Ç –ø–æ–ª–∑—É–Ω–æ–∫ –¥–ª—è —Ä–∞–∑–º–µ—Ä–∞ –ø–∞–∫–µ—Ç–∞
                              orient=tk.HORIZONTAL, command=self.update_size_value)  # –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è
        size_scale.grid(row=3, column=1, padx=10, pady=5, sticky=(tk.W, tk.E))  # —Ä–∞–∑–º–µ—â–∞–µ—Ç –ø–æ–ª–∑—É–Ω–æ–∫ —Å —Ä–∞—Å—Ç—è–≥–∏–≤–∞–Ω–∏–µ–º
        self.size_label = ttk.Label(control_frame, text="64", font=("Arial", 10))  # —Å–æ–∑–¥–∞–µ—Ç –º–µ—Ç–∫—É –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞
        self.size_label.grid(row=3, column=2, padx=5, pady=5)  # —Ä–∞–∑–º–µ—â–∞–µ—Ç –º–µ—Ç–∫—É –∑–Ω–∞—á–µ–Ω–∏—è
        
        # –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
        button_frame = ttk.Frame(control_frame)  # —Å–æ–∑–¥–∞–µ—Ç —Ñ—Ä–µ–π–º –¥–ª—è –∫–Ω–æ–ø–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
        button_frame.grid(row=4, column=0, columnspan=3, pady=15)  # —Ä–∞–∑–º–µ—â–∞–µ—Ç —Ñ—Ä–µ–π–º –∫–Ω–æ–ø–æ–∫
        
        ttk.Button(button_frame, text="–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ",  # —Å–æ–∑–¥–∞–µ—Ç –∫–Ω–æ–ø–∫—É –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                  command=self.load_image, width=20).pack(side=tk.LEFT, padx=5)  # —Ä–∞–∑–º–µ—â–∞–µ—Ç –∫–Ω–æ–ø–∫—É —Å–ª–µ–≤–∞ —Å –æ—Ç—Å—Ç—É–ø–æ–º
        ttk.Button(button_frame, text="–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏–º—É–ª—è—Ü–∏—é",  # —Å–æ–∑–¥–∞–µ—Ç –∫–Ω–æ–ø–∫—É –∑–∞–ø—É—Å–∫–∞ —Å–∏–º—É–ª—è—Ü–∏–∏
                  command=self.start_simulation, width=20).pack(side=tk.LEFT, padx=5)  # —Ä–∞–∑–º–µ—â–∞–µ—Ç –∫–Ω–æ–ø–∫—É —Å–ª–µ–≤–∞ —Å –æ—Ç—Å—Ç—É–ø–æ–º
        ttk.Button(button_frame, text="–°–±—Ä–æ—Å–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ",  # —Å–æ–∑–¥–∞–µ—Ç –∫–Ω–æ–ø–∫—É —Å–±—Ä–æ—Å–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                  command=self.reset_image, width=20).pack(side=tk.LEFT, padx=5)  # —Ä–∞–∑–º–µ—â–∞–µ—Ç –∫–Ω–æ–ø–∫—É —Å–ª–µ–≤–∞ —Å –æ—Ç—Å—Ç—É–ø–æ–º
        ttk.Button(button_frame, text="–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∏–º—É–ª—è—Ü–∏—é",  # —Å–æ–∑–¥–∞–µ—Ç –∫–Ω–æ–ø–∫—É –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–∏–º—É–ª—è—Ü–∏–∏
                  command=self.stop_simulation, width=20).pack(side=tk.LEFT, padx=5)  # —Ä–∞–∑–º–µ—â–∞–µ—Ç –∫–Ω–æ–ø–∫—É —Å–ª–µ–≤–∞ —Å –æ—Ç—Å—Ç—É–ø–æ–º
        
        # –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
        metrics_frame = ttk.LabelFrame(self.content_frame, text="–ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è", padding="15")  # —Å–æ–∑–¥–∞–µ—Ç –≥—Ä—É–ø–ø—É –¥–ª—è –º–µ—Ç—Ä–∏–∫ –∫–∞—á–µ—Å—Ç–≤–∞
        metrics_frame.grid(row=2, column=0, columnspan=4, sticky=(tk.W, tk.E), pady=10, padx=20)  # —Ä–∞–∑–º–µ—â–∞–µ—Ç –≥—Ä—É–ø–ø—É —Å –æ—Ç—Å—Ç—É–ø–∞–º–∏
        
        # –°–æ–∑–¥–∞–µ–º —Ñ—Ä–µ–π–º—ã –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫
        self.psnr_frame = ttk.Frame(metrics_frame)  # —Å–æ–∑–¥–∞–µ—Ç —Ñ—Ä–µ–π–º –¥–ª—è –º–µ—Ç—Ä–∏–∫–∏ PSNR
        self.psnr_frame.grid(row=0, column=0, padx=20, pady=10)  # —Ä–∞–∑–º–µ—â–∞–µ—Ç —Ñ—Ä–µ–π–º PSNR
        ttk.Label(self.psnr_frame, text="PSNR", font=("Arial", 14, "bold")).pack()  # —Å–æ–∑–¥–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è PSNR
        self.psnr_value = ttk.Label(self.psnr_frame, text="‚àû dB", font=("Arial", 18, "bold"))  # —Å–æ–∑–¥–∞–µ—Ç –º–µ—Ç–∫—É –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏—è PSNR
        self.psnr_value.pack()  # —Ä–∞–∑–º–µ—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ PSNR
        ttk.Label(self.psnr_frame, text="–ö–∞—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è", font=("Arial", 10)).pack()  # —Å–æ–∑–¥–∞–µ—Ç –ø–æ–¥–ø–∏—Å—å –¥–ª—è PSNR
        
        self.ssim_frame = ttk.Frame(metrics_frame)  # —Å–æ–∑–¥–∞–µ—Ç —Ñ—Ä–µ–π–º –¥–ª—è –º–µ—Ç—Ä–∏–∫–∏ SSIM
        self.ssim_frame.grid(row=0, column=1, padx=20, pady=10)  # —Ä–∞–∑–º–µ—â–∞–µ—Ç —Ñ—Ä–µ–π–º SSIM
        ttk.Label(self.ssim_frame, text="SSIM", font=("Arial", 14, "bold")).pack()  # —Å–æ–∑–¥–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è SSIM
        self.ssim_value = ttk.Label(self.ssim_frame, text="1.000", font=("Arial", 18, "bold"))  # —Å–æ–∑–¥–∞–µ—Ç –º–µ—Ç–∫—É –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏—è SSIM
        self.ssim_value.pack()  # —Ä–∞–∑–º–µ—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ SSIM
        ttk.Label(self.ssim_frame, text="–°—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ", font=("Arial", 10)).pack()  # —Å–æ–∑–¥–∞–µ—Ç –ø–æ–¥–ø–∏—Å—å –¥–ª—è SSIM
        
        self.mse_frame = ttk.Frame(metrics_frame)  # —Å–æ–∑–¥–∞–µ—Ç —Ñ—Ä–µ–π–º –¥–ª—è –º–µ—Ç—Ä–∏–∫–∏ MSE
        self.mse_frame.grid(row=0, column=2, padx=20, pady=10)  # —Ä–∞–∑–º–µ—â–∞–µ—Ç —Ñ—Ä–µ–π–º MSE
        ttk.Label(self.mse_frame, text="MSE", font=("Arial", 14, "bold")).pack()  # —Å–æ–∑–¥–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è MSE
        self.mse_value = ttk.Label(self.mse_frame, text="0.00", font=("Arial", 18, "bold"))  # —Å–æ–∑–¥–∞–µ—Ç –º–µ—Ç–∫—É –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏—è MSE
        self.mse_value.pack()  # —Ä–∞–∑–º–µ—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ MSE
        ttk.Label(self.mse_frame, text="–°—Ä–µ–¥–Ω—è—è –æ—à–∏–±–∫–∞", font=("Arial", 10)).pack()  # —Å–æ–∑–¥–∞–µ—Ç –ø–æ–¥–ø–∏—Å—å –¥–ª—è MSE
        
        self.efficiency_frame = ttk.Frame(metrics_frame)  # —Å–æ–∑–¥–∞–µ—Ç —Ñ—Ä–µ–π–º –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥–∞—á–∏
        self.efficiency_frame.grid(row=0, column=3, padx=20, pady=10)  # —Ä–∞–∑–º–µ—â–∞–µ—Ç —Ñ—Ä–µ–π–º —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
        ttk.Label(self.efficiency_frame, text="–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å", font=("Arial", 14, "bold")).pack()  # —Å–æ–∑–¥–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
        self.efficiency_value = ttk.Label(self.efficiency_frame, text="100%", font=("Arial", 18, "bold"))  # —Å–æ–∑–¥–∞–µ—Ç –º–µ—Ç–∫—É –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
        self.efficiency_value.pack()  # —Ä–∞–∑–º–µ—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
        ttk.Label(self.efficiency_frame, text="–ü–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö", font=("Arial", 10)).pack()  # —Å–æ–∑–¥–∞–µ—Ç –ø–æ–¥–ø–∏—Å—å –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
        
        # –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
        image_frame = ttk.LabelFrame(self.content_frame, text="–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π", padding="15")  # —Å–æ–∑–¥–∞–µ—Ç –≥—Ä—É–ø–ø—É –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
        image_frame.grid(row=3, column=0, columnspan=4, pady=10, padx=20, sticky=(tk.W, tk.E))  # —Ä–∞–∑–º–µ—â–∞–µ—Ç –≥—Ä—É–ø–ø—É —Å –æ—Ç—Å—Ç—É–ø–∞–º–∏
        
        # –ò—Å—Ö–æ–¥–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
        orig_frame = ttk.LabelFrame(image_frame, text="–ò—Å—Ö–æ–¥–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ", padding="10")  # —Å–æ–∑–¥–∞–µ—Ç –≥—Ä—É–ø–ø—É –¥–ª—è –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
        orig_frame.grid(row=0, column=0, padx=20, pady=10)  # —Ä–∞–∑–º–µ—â–∞–µ—Ç –≥—Ä—É–ø–ø—É —Å –æ—Ç—Å—Ç—É–ø–æ–º
        self.original_canvas = tk.Canvas(orig_frame, width=400, height=400, bg="white", highlightthickness=2, highlightbackground="#cccccc")  # —Å–æ–∑–¥–∞–µ—Ç —Ö–æ–ª—Å—Ç –¥–ª—è –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
        self.original_canvas.pack()  # —Ä–∞–∑–º–µ—â–∞–µ—Ç —Ö–æ–ª—Å—Ç
        
        # –ü—Ä–∏–Ω—è—Ç–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
        recv_frame = ttk.LabelFrame(image_frame, text="–ü—Ä–∏–Ω—è—Ç–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ", padding="10")  # —Å–æ–∑–¥–∞–µ—Ç –≥—Ä—É–ø–ø—É –¥–ª—è –ø—Ä–∏–Ω—è—Ç–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
        recv_frame.grid(row=0, column=1, padx=20, pady=10)  # —Ä–∞–∑–º–µ—â–∞–µ—Ç –≥—Ä—É–ø–ø—É —Å –æ—Ç—Å—Ç—É–ø–æ–º
        self.received_canvas = tk.Canvas(recv_frame, width=400, height=400, bg="white", highlightthickness=2, highlightbackground="#cccccc")  # —Å–æ–∑–¥–∞–µ—Ç —Ö–æ–ª—Å—Ç –¥–ª—è –ø—Ä–∏–Ω—è—Ç–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
        self.received_canvas.pack()  # —Ä–∞–∑–º–µ—â–∞–µ—Ç —Ö–æ–ª—Å—Ç
        
        # –ì—Ä–∞—Ñ–∏–∫
        chart_frame = ttk.LabelFrame(self.content_frame, text="–ì—Ä–∞—Ñ–∏–∫–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥–∞—á–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–∞", padding="15")  # —Å–æ–∑–¥–∞–µ—Ç –≥—Ä—É–ø–ø—É –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
        chart_frame.grid(row=4, column=0, columnspan=4, sticky=(tk.W, tk.E), pady=10, padx=20)  # —Ä–∞–∑–º–µ—â–∞–µ—Ç –≥—Ä—É–ø–ø—É —Å —Ä–∞—Å—Ç—è–≥–∏–≤–∞–Ω–∏–µ–º
        
        # –°–æ–∑–¥–∞–µ–º —Ñ–∏–≥—É—Ä—É matplotlib
        self.fig = Figure(figsize=(12, 5), dpi=100)  # —Å–æ–∑–¥–∞–µ—Ç —Ñ–∏–≥—É—Ä—É matplotlib —Ä–∞–∑–º–µ—Ä–æ–º 12x5 –¥—é–π–º–æ–≤ —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º 100 DPI
        self.ax = self.fig.add_subplot(111)  # –¥–æ–±–∞–≤–ª—è–µ—Ç –æ—Å–Ω–æ–≤–Ω—É—é –æ—Å—å –Ω–∞ —Ñ–∏–≥—É—Ä—É
        self.canvas_chart = FigureCanvasTkAgg(self.fig, chart_frame)  # —Å–æ–∑–¥–∞–µ—Ç —Ö–æ–ª—Å—Ç –¥–ª—è –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–∞ –≤ tkinter
        self.canvas_chart.get_tk_widget().pack(fill=tk.BOTH, expand=True, padx=10, pady=10)  # —Ä–∞–∑–º–µ—â–∞–µ—Ç —Ö–æ–ª—Å—Ç —Å –≥—Ä–∞—Ñ–∏–∫–æ–º, —Ä–∞—Å—Ç—è–≥–∏–≤–∞—è –Ω–∞ –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
        
        # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –≥—Ä–∞—Ñ–∏–∫
        self.init_chart()  # –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≥—Ä–∞—Ñ–∏–∫–∞
        
        # –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É –≤ –Ω–∏–∂–Ω–µ–π —á–∞—Å—Ç–∏ –æ–∫–Ω–∞
        hint_frame = ttk.Frame(self.content_frame)  # —Å–æ–∑–¥–∞–µ—Ç —Ñ—Ä–µ–π–º –¥–ª—è –ø–æ–¥—Å–∫–∞–∑–∫–∏
        hint_frame.grid(row=5, column=0, columnspan=4, pady=10, padx=20)  # —Ä–∞–∑–º–µ—â–∞–µ—Ç —Ñ—Ä–µ–π–º –ø–æ–¥—Å–∫–∞–∑–∫–∏
        hint_label = ttk.Label(hint_frame, text="üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–ª–µ—Å–æ –º—ã—à–∏ –¥–ª—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏. F11 - –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º, Esc - –≤—ã—Ö–æ–¥ –∏–∑ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞", 
                              font=("Arial", 9), foreground="gray")  # —Å–æ–∑–¥–∞–µ—Ç –º–µ—Ç–∫—É —Å –ø–æ–¥—Å–∫–∞–∑–∫–æ–π —Å–µ—Ä—ã–º —Ü–≤–µ—Ç–æ–º
        hint_label.pack()  # —Ä–∞–∑–º–µ—â–∞–µ—Ç –ø–æ–¥—Å–∫–∞–∑–∫—É
        
        # –û–±–Ω–æ–≤–ª—è–µ–º –≥–µ–æ–º–µ—Ç—Ä–∏—é –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        self.content_frame.update_idletasks()  # –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç –≥–µ–æ–º–µ—Ç—Ä–∏—é –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        self.canvas.configure(scrollregion=self.canvas.bbox("all"))  # —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –æ–±–ª–∞—Å—Ç—å –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        
    def _on_mousewheel(self, event):
        """
        –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –∫–æ–ª–µ—Å–æ–º –º—ã—à–∏
        """
        if event.delta:  # –¥–ª—è Windows –∏ MacOS
            self.canvas.yview_scroll(int(-1 * (event.delta / 120)), "units")  # –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ—Ç —Ö–æ–ª—Å—Ç –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ delta —Å–æ–±—ã—Ç–∏—è
        elif event.num == 4:  # –¥–ª—è Linux (–∫–Ω–æ–ø–∫–∞ 4)
            self.canvas.yview_scroll(-1, "units")  # –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ—Ç –≤–≤–µ—Ä—Ö –¥–ª—è Linux
        elif event.num == 5:  # –¥–ª—è Linux (–∫–Ω–æ–ø–∫–∞ 5)
            self.canvas.yview_scroll(1, "units")  # –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ—Ç –≤–Ω–∏–∑ –¥–ª—è Linux
            
    def update_speed_value(self, event=None):
        """–û–±–Ω–æ–≤–ª—è–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏ —Å–µ—Ç–∏"""
        self.speed_label.config(text=str(self.network_speed.get()))  # –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç –º–µ—Ç–∫–∏ —Å–∫–æ—Ä–æ—Å—Ç–∏ —Å–µ—Ç–∏ —Ç–µ–∫—É—â–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º
        
    def update_loss_value(self, event=None):
        """–û–±–Ω–æ–≤–ª—è–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ—Ç–µ—Ä–∏ –ø–∞–∫–µ—Ç–æ–≤"""
        self.loss_label.config(text=str(self.packet_loss.get()))  # –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç –º–µ—Ç–∫–∏ –ø–æ—Ç–µ—Ä–∏ –ø–∞–∫–µ—Ç–æ–≤ —Ç–µ–∫—É—â–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º
        
    def update_error_value(self, event=None):
        """–û–±–Ω–æ–≤–ª—è–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ—à–∏–±–æ–∫ –±–∏—Ç–æ–≤"""
        self.error_label.config(text=str(self.bit_error.get()))  # –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç –º–µ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –±–∏—Ç–æ–≤ —Ç–µ–∫—É—â–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º
        
    def update_size_value(self, event=None):
        """–û–±–Ω–æ–≤–ª—è–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –ø–∞–∫–µ—Ç–∞"""
        self.size_label.config(text=str(self.packet_size.get()))  # –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç –º–µ—Ç–∫–∏ —Ä–∞–∑–º–µ—Ä–∞ –ø–∞–∫–µ—Ç–∞ —Ç–µ–∫—É—â–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º
        
    def load_image(self):
        """–ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è —Å–∏–º—É–ª—è—Ü–∏–∏"""
        file_path = filedialog.askopenfilename(  # –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥–æ–≤–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞
            title="–í—ã–±–µ—Ä–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ",  # —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–∏–∞–ª–æ–≥–æ–≤–æ–≥–æ –æ–∫–Ω–∞
            filetypes=[("Image files", "*.jpg *.jpeg *.png *.bmp *.tiff")]  # —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
        )
        
        if file_path:  # –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª —Ñ–∞–π–ª (–Ω–µ –Ω–∞–∂–∞–ª "–û—Ç–º–µ–Ω–∞")
            try:
                # –ó–∞–≥—Ä—É–∂–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é OpenCV
                self.original_image = cv2.imread(file_path)  # –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é OpenCV
                if self.original_image is None:  # –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ
                    messagebox.showerror("–û—à–∏–±–∫–∞", "–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ")  # –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
                    return  # –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏
                
                # –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –∏–∑ BGR –≤ RGB (OpenCV –∏—Å–ø–æ–ª—å–∑—É–µ—Ç BGR, –∞ –Ω–∞–º –Ω—É–∂–µ–Ω RGB)
                self.original_image = cv2.cvtColor(self.original_image, cv2.COLOR_BGR2RGB)  # –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Ü–≤–µ—Ç–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
                
                # –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
                display_image = self.resize_image_for_display(self.original_image, 400)  # –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ 400 –ø–∏–∫—Å–µ–ª–µ–π
                
                # –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –¥–ª—è Tkinter
                pil_image = Image.fromarray(display_image)  # —Å–æ–∑–¥–∞–µ—Ç –æ–±—ä–µ–∫—Ç PIL Image –∏–∑ numpy array
                self.tk_original_image = ImageTk.PhotoImage(pil_image)  # –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç PIL Image –≤ —Ñ–æ—Ä–º–∞—Ç Tkinter
                
                # –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –Ω–∞ canvas
                self.original_canvas.delete("all")  # –æ—á–∏—â–∞–µ—Ç —Ö–æ–ª—Å—Ç –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                self.original_canvas.create_image(0, 0, anchor=tk.NW, image=self.tk_original_image)  # –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ —Ö–æ–ª—Å—Ç–µ
                self.original_canvas.config(width=pil_image.width, height=pil_image.height)  # —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä —Ö–æ–ª—Å—Ç–∞ –ø–æ–¥ —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                
                # –ö–æ–ø–∏—Ä—É–µ–º –¥–ª—è received canvas
                self.received_image = self.original_image.copy()  # —Å–æ–∑–¥–∞–µ—Ç –∫–æ–ø–∏—é –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è received
                display_received = self.resize_image_for_display(self.received_image, 400)  # –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                pil_received = Image.fromarray(display_received)  # —Å–æ–∑–¥–∞–µ—Ç –æ–±—ä–µ–∫—Ç PIL Image –¥–ª—è received
                self.tk_received_image = ImageTk.PhotoImage(pil_received)  # –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç Tkinter
                
                self.received_canvas.delete("all")  # –æ—á–∏—â–∞–µ—Ç —Ö–æ–ª—Å—Ç received
                self.received_canvas.create_image(0, 0, anchor=tk.NW, image=self.tk_received_image)  # –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ —Ö–æ–ª—Å—Ç–µ received
                self.received_canvas.config(width=pil_received.width, height=pil_received.height)  # —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä —Ö–æ–ª—Å—Ç–∞ received
                
                # –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º —Ä–∞–∑–º–µ—Ä–µ –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
                self.original_image_data = self.original_image  # —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
                self.received_image_data = self.received_image.copy()  # —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–æ–ø–∏—é –¥–ª—è received
                
                # –û–±–Ω–æ–≤–ª—è–µ–º –º–µ—Ç—Ä–∏–∫–∏
                self.update_quality_metrics()  # –≤—ã–∑—ã–≤–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –∫–∞—á–µ—Å—Ç–≤–∞
                
                # –û–±–Ω–æ–≤–ª—è–µ–º –æ–±–ª–∞—Å—Ç—å –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
                self.content_frame.update_idletasks()  # –æ–±–Ω–æ–≤–ª—è–µ—Ç –≥–µ–æ–º–µ—Ç—Ä–∏—é —ç–ª–µ–º–µ–Ω—Ç–æ–≤
                self.canvas.configure(scrollregion=self.canvas.bbox("all"))  # –æ–±–Ω–æ–≤–ª—è–µ—Ç –æ–±–ª–∞—Å—Ç—å –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
                
            except Exception as e:  # –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –ª—é–±—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                messagebox.showerror("–û—à–∏–±–∫–∞", f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: {str(e)}")  # –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
    
    def resize_image_for_display(self, image, max_size):
        """–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ —Ö–æ–ª—Å—Ç–µ"""
        height, width = image.shape[:2]  # –ø–æ–ª—É—á–∞–µ—Ç –≤—ã—Å–æ—Ç—É –∏ —à–∏—Ä–∏–Ω—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
        
        if height > width:  # –µ—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ
            new_height = max_size  # —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–æ–≤—É—é –≤—ã—Å–æ—Ç—É –∫–∞–∫ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä
            new_width = int(width * (max_size / height))  # –≤—ã—á–∏—Å–ª—è–µ—Ç –Ω–æ–≤—É—é —à–∏—Ä–∏–Ω—É –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
        else:  # –µ—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –∏–ª–∏ –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–µ
            new_width = max_size  # —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–æ–≤—É—é —à–∏—Ä–∏–Ω—É –∫–∞–∫ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä
            new_height = int(height * (max_size / width))  # –≤—ã—á–∏—Å–ª—è–µ—Ç –Ω–æ–≤—É—é –≤—ã—Å–æ—Ç—É –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
            
        return cv2.resize(image, (new_width, new_height))  # –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
    
    def calculate_mse(self, original, distorted):
        """
        –í—ã—á–∏—Å–ª—è–µ—Ç —Å—Ä–µ–¥–Ω—é—é –∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω—É—é –æ—à–∏–±–∫—É (Mean Squared Error)
        –º–µ–∂–¥—É –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–º –∏ –∏—Å–∫–∞–∂–µ–Ω–Ω—ã–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
        """
        # –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ float –¥–ª—è —Ç–æ—á–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
        original_float = original.astype(np.float64)  # –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ float64
        distorted_float = distorted.astype(np.float64)  # –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –∏—Å–∫–∞–∂–µ–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ float64
        
        # –í—ã—á–∏—Å–ª—è–µ–º MSE - —Å—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–≤–∞–¥—Ä–∞—Ç–æ–≤ —Ä–∞–∑–Ω–æ—Å—Ç–µ–π –ø–∏–∫—Å–µ–ª–µ–π
        mse = np.mean((original_float - distorted_float) ** 2)  # –≤—ã—á–∏—Å–ª—è–µ—Ç —Å—Ä–µ–¥–Ω—é—é –∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω—É—é –æ—à–∏–±–∫—É
        return mse  # –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ MSE
    
    def calculate_psnr(self, original, distorted):
        """
        –í—ã—á–∏—Å–ª—è–µ—Ç –ø–∏–∫–æ–≤–æ–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª/—à—É–º (Peak Signal-to-Noise Ratio)
        PSNR = 20 * log10(MAX) - 10 * log10(MSE)
        –≥–¥–µ MAX = 255 –¥–ª—è 8-–±–∏—Ç–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
        """
        mse = self.calculate_mse(original, distorted)  # –≤—ã—á–∏—Å–ª—è–µ—Ç MSE –º–µ–∂–¥—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
        
        if mse == 0:  # –µ—Å–ª–∏ MSE —Ä–∞–≤–Ω–æ 0, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–¥–µ–Ω—Ç–∏—á–Ω—ã
            return float('inf')  # –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç—å (–∏–¥–µ–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ)
            
        max_pixel = 255.0  # –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∏–∫—Å–µ–ª—è –¥–ª—è 8-–±–∏—Ç–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
        psnr = 20 * np.log10(max_pixel) - 10 * np.log10(mse)  # –≤—ã—á–∏—Å–ª—è–µ—Ç PSNR –ø–æ —Ñ–æ—Ä–º—É–ª–µ
        return psnr  # –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ PSNR –≤ –¥–µ—Ü–∏–±–µ–ª–∞—Ö (dB)
    
    def calculate_ssim(self, original, distorted):
        """
        –í—ã—á–∏—Å–ª—è–µ—Ç –∏–Ω–¥–µ–∫—Å —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–≥–æ —Å—Ö–æ–¥—Å—Ç–≤–∞ (Structural Similarity Index)
        –º–µ–∂–¥—É –¥–≤—É–º—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
        SSIM –∏–∑–º–µ—Ä—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ, —É—á–∏—Ç—ã–≤–∞—è —è—Ä–∫–æ—Å—Ç—å, –∫–æ–Ω—Ç—Ä–∞—Å—Ç –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É
        """
        # –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ –æ—Ç—Ç–µ–Ω–∫–∏ —Å–µ—Ä–æ–≥–æ –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
        if len(original.shape) == 3:  # –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ü–≤–µ—Ç–Ω—ã–º (3 –∫–∞–Ω–∞–ª–∞)
            original_gray = cv2.cvtColor(original, cv2.COLOR_RGB2GRAY)  # –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –æ—Ç—Ç–µ–Ω–∫–∏ —Å–µ—Ä–æ–≥–æ
            distorted_gray = cv2.cvtColor(distorted, cv2.COLOR_RGB2GRAY)  # –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –∏—Å–∫–∞–∂–µ–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –æ—Ç—Ç–µ–Ω–∫–∏ —Å–µ—Ä–æ–≥–æ
        else:  # –µ—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É–∂–µ –≤ –æ—Ç—Ç–µ–Ω–∫–∞—Ö —Å–µ—Ä–æ–≥–æ
            original_gray = original  # –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞–∫ –µ—Å—Ç—å
            distorted_gray = distorted  # –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏—Å–∫–∞–∂–µ–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞–∫ –µ—Å—Ç—å
        
        # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π (–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –¥–µ–ª–µ–Ω–∏—è –Ω–∞ 0)
        C1 = (0.01 * 255) ** 2  # –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ –¥–ª—è —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —è—Ä–∫–æ—Å—Ç–∏
        C2 = (0.03 * 255) ** 2  # –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ –¥–ª—è —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞
        
        # –í—ã—á–∏—Å–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
        mu_x = np.mean(original_gray)  # —Å—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∏–∫—Å–µ–ª–µ–π –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (—è—Ä–∫–æ—Å—Ç—å)
        mu_y = np.mean(distorted_gray)  # —Å—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∏–∫—Å–µ–ª–µ–π –∏—Å–∫–∞–∂–µ–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (—è—Ä–∫–æ—Å—Ç—å)
        sigma_x = np.var(original_gray)  # –¥–∏—Å–ø–µ—Ä—Å–∏—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–∫–æ–Ω—Ç—Ä–∞—Å—Ç)
        sigma_y = np.var(distorted_gray)  # –¥–∏—Å–ø–µ—Ä—Å–∏—è –∏—Å–∫–∞–∂–µ–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–∫–æ–Ω—Ç—Ä–∞—Å—Ç)
        sigma_xy = np.cov(original_gray.flatten(), distorted_gray.flatten())[0, 1]  # –∫–æ–≤–∞—Ä–∏–∞—Ü–∏—è –º–µ–∂–¥—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
        
        # –í—ã—á–∏—Å–ª—è–µ–º SSIM –ø–æ —Ñ–æ—Ä–º—É–ª–µ
        numerator = (2 * mu_x * mu_y + C1) * (2 * sigma_xy + C2)  # –≤—ã—á–∏—Å–ª—è–µ—Ç —á–∏—Å–ª–∏—Ç–µ–ª—å —Ñ–æ—Ä–º—É–ª—ã SSIM
        denominator = (mu_x ** 2 + mu_y ** 2 + C1) * (sigma_x + sigma_y + C2)  # –≤—ã—á–∏—Å–ª—è–µ—Ç –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å —Ñ–æ—Ä–º—É–ª—ã SSIM
        
        ssim = numerator / denominator  # –≤—ã—á–∏—Å–ª—è–µ—Ç –∏—Ç–æ–≥–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ SSIM
        return ssim  # –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ SSIM (–æ—Ç 0 –¥–æ 1)
    
    def update_quality_metrics(self):
        """–û–±–Ω–æ–≤–ª—è–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –∫–∞—á–µ—Å—Ç–≤–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è"""
        if self.original_image_data is None or self.received_image_data is None:  # –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –æ–±–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω—ã
            return  # –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ –µ—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
            
        try:
            # –í—ã—á–∏—Å–ª—è–µ–º –≤—Å–µ –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
            mse = self.calculate_mse(self.original_image_data, self.received_image_data)  # –≤—ã—á–∏—Å–ª—è–µ—Ç MSE
            psnr = self.calculate_psnr(self.original_image_data, self.received_image_data)  # –≤—ã—á–∏—Å–ª—è–µ—Ç PSNR
            ssim = self.calculate_ssim(self.original_image_data, self.received_image_data)  # –≤—ã—á–∏—Å–ª—è–µ—Ç SSIM
            
            # –û–±–Ω–æ–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
            self.mse_value.config(text=f"{mse:.2f}")  # –æ–±–Ω–æ–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ MSE —Å –¥–≤—É–º—è –∑–Ω–∞–∫–∞–º–∏ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π
            self.psnr_value.config(text="‚àû dB" if psnr == float('inf') else f"{psnr:.2f} dB")  # –æ–±–Ω–æ–≤–ª—è–µ—Ç PSNR (–±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç—å –∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ)
            self.ssim_value.config(text=f"{ssim:.3f}")  # –æ–±–Ω–æ–≤–ª—è–µ—Ç SSIM —Å —Ç—Ä–µ–º—è –∑–Ω–∞–∫–∞–º–∏ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π
            
            # –û–±–Ω–æ–≤–ª—è–µ–º —Ü–≤–µ—Ç–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–∞—á–µ—Å—Ç–≤–∞
            self.update_metric_colors(psnr, ssim, mse)  # –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ü–≤–µ—Ç–æ–≤ –º–µ—Ç—Ä–∏–∫
            
        except Exception as e:  # –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–∏ –º–µ—Ç—Ä–∏–∫
            print(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–∏ –º–µ—Ç—Ä–∏–∫: {e}")  # –≤—ã–≤–æ–¥–∏—Ç –æ—à–∏–±–∫—É –≤ –∫–æ–Ω—Å–æ–ª—å
    
    def update_metric_colors(self, psnr, ssim, mse):
        """
        –û–±–Ω–æ–≤–ª—è–µ—Ç —Ü–≤–µ—Ç–∞ –º–µ—Ç—Ä–∏–∫ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–∞—á–µ—Å—Ç–≤–∞
        –ó–µ–ª–µ–Ω—ã–π - –æ—Ç–ª–∏—á–Ω–æ, –û—Ä–∞–Ω–∂–µ–≤—ã–π - —Ö–æ—Ä–æ—à–æ, –ö—Ä–∞—Å–Ω—ã–π - –ø–ª–æ—Ö–æ, –¢–µ–º–Ω–æ-–∫—Ä–∞—Å–Ω—ã–π - –æ—á–µ–Ω—å –ø–ª–æ—Ö–æ
        """
        # –¶–≤–µ—Ç–∞ –¥–ª—è PSNR (Peak Signal-to-Noise Ratio)
        if psnr == float('inf'):  # –µ—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–¥–µ–Ω—Ç–∏—á–Ω—ã
            self.psnr_value.config(foreground="green")  # —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç (–æ—Ç–ª–∏—á–Ω–æ)
        elif psnr > 40:  # PSNR > 40 dB - –æ—Ç–ª–∏—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
            self.psnr_value.config(foreground="green")  # –∑–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç
        elif psnr > 30:  # PSNR 30-40 dB - —Ö–æ—Ä–æ—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ
            self.psnr_value.config(foreground="orange")  # –æ—Ä–∞–Ω–∂–µ–≤—ã–π —Ü–≤–µ—Ç
        elif psnr > 20:  # PSNR 20-30 dB - —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
            self.psnr_value.config(foreground="red")  # –∫—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç
        else:  # PSNR < 20 dB - –ø–ª–æ—Ö–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
            self.psnr_value.config(foreground="darkred")  # —Ç–µ–º–Ω–æ-–∫—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç
        
        # –¶–≤–µ—Ç–∞ –¥–ª—è SSIM (Structural Similarity Index)
        if ssim > 0.9:  # SSIM > 0.9 - –æ—á–µ–Ω—å –≤—ã—Å–æ–∫–æ–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ
            self.ssim_value.config(foreground="green")  # –∑–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç
        elif ssim > 0.7:  # SSIM 0.7-0.9 - –≤—ã—Å–æ–∫–æ–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ
            self.ssim_value.config(foreground="orange")  # –æ—Ä–∞–Ω–∂–µ–≤—ã–π —Ü–≤–µ—Ç
        elif ssim > 0.5:  # SSIM 0.5-0.7 - —É–º–µ—Ä–µ–Ω–Ω–æ–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ
            self.ssim_value.config(foreground="red")  # –∫—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç
        else:  # SSIM < 0.5 - –Ω–∏–∑–∫–æ–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ
            self.ssim_value.config(foreground="darkred")  # —Ç–µ–º–Ω–æ-–∫—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç
        
        # –¶–≤–µ—Ç–∞ –¥–ª—è MSE (Mean Squared Error)
        if mse < 10:  # MSE < 10 - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞
            self.mse_value.config(foreground="green")  # –∑–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç
        elif mse < 100:  # MSE 10-100 - –º–∞–ª–∞—è –æ—à–∏–±–∫–∞
            self.mse_value.config(foreground="orange")  # –æ—Ä–∞–Ω–∂–µ–≤—ã–π —Ü–≤–µ—Ç
        elif mse < 1000:  # MSE 100-1000 - –∑–∞–º–µ—Ç–Ω–∞—è –æ—à–∏–±–∫–∞
            self.mse_value.config(foreground="red")  # –∫—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç
        else:  # MSE > 1000 - –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞
            self.mse_value.config(foreground="darkred")  # —Ç–µ–º–Ω–æ-–∫—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç
    
    def create_packets_from_image(self, image, packet_size):
        """
        –†–∞–∑–±–∏–≤–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –ø–∞–∫–µ—Ç—ã –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
        """
        packets = []  # —Å–æ–∑–¥–∞–µ—Ç –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤
        data = image.flatten()  # –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –æ–¥–Ω–æ–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤
        total_bytes = len(data)  # –≤—ã—á–∏—Å–ª—è–µ—Ç –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç–æ–≤ –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏
        
        for i in range(0, total_bytes, packet_size):  # –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ –º–∞—Å—Å–∏–≤—É —Å —à–∞–≥–æ–º packet_size
            packet_data = data[i:i + packet_size].copy()  # –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–∞–∫–µ—Ç–∞
            packets.append({  # –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–∞–∫–µ—Ç –≤ —Å–ø–∏—Å–æ–∫
                'index': i,  # —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–∞—á–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –ø–∞–∫–µ—Ç–∞ –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –º–∞—Å—Å–∏–≤–µ
                'data': packet_data,  # —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç–∞
                'size': len(packet_data)  # —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–º–µ—Ä –ø–∞–∫–µ—Ç–∞
            })
        
        return packets  # –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–∞–∫–µ—Ç–æ–≤
    
    def corrupt_packet(self, packet, bit_error_rate):
        """
        –í–Ω–æ—Å–∏—Ç –±–∏—Ç–æ–≤—ã–µ –æ—à–∏–±–∫–∏ –≤ –ø–∞–∫–µ—Ç —Å –∑–∞–¥–∞–Ω–Ω–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é
        """
        corrupted = False  # —Ñ–ª–∞–≥, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π –±—ã–ª –ª–∏ –ø–∞–∫–µ—Ç –∏—Å–∫–∞–∂–µ–Ω
        corrupted_data = packet['data'].copy()  # —Å–æ–∑–¥–∞–µ—Ç –∫–æ–ø–∏—é –¥–∞–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–∞ –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏
        
        for i in range(len(corrupted_data)):  # –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ –∫–∞–∂–¥–æ–º—É –±–∞–π—Ç—É –≤ –ø–∞–∫–µ—Ç–µ
            # –î–ª—è –∫–∞–∂–¥–æ–≥–æ –±–∞–π—Ç–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—ã–π –±–∏—Ç
            for bit in range(8):  # –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ –∫–∞–∂–¥–æ–º—É –±–∏—Ç—É –≤ –±–∞–π—Ç–µ (0-7)
                if random.random() < bit_error_rate:  # –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—à–∏–±–∫–∏ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –±–∏—Ç–∞
                    corrupted = True  # —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ñ–ª–∞–≥ –∏—Å–∫–∞–∂–µ–Ω–∏—è
                    # –ò–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –±–∏—Ç —Å –ø–æ–º–æ—â—å—é XOR
                    corrupted_data[i] ^= (1 << bit)  # –∏–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –±–∏—Ç –≤ –±–∞–π—Ç–µ
        
        return {  # –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏—Å–∫–∞–∂–µ–Ω–∏—è
            'data': corrupted_data,  # –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Å–∫–∞–∂–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            'corrupted': corrupted  # –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ–ª–∞–≥ –∏—Å–∫–∞–∂–µ–Ω–∏—è
        }
    
    def apply_packet_to_image(self, image, packet_data, start_index):
        """
        –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–∞–∫–µ—Ç –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –∏–Ω–¥–µ–∫—Å—É
        """
        flat_image = image.flatten()  # –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –æ–¥–Ω–æ–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤
        for i in range(len(packet_data)):  # –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ –∫–∞–∂–¥–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –≤ –¥–∞–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–∞
            if start_index + i < len(flat_image):  # –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –∏–Ω–¥–µ–∫—Å –Ω–µ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –º–∞—Å—Å–∏–≤–∞
                flat_image[start_index + i] = packet_data[i]  # –∑–∞–º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –ø–∞–∫–µ—Ç–∞
        
        # –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏—Å—Ö–æ–¥–Ω—É—é —Ñ–æ—Ä–º—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
        return flat_image.reshape(image.shape)  # –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –æ–¥–Ω–æ–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤ –æ–±—Ä–∞—Ç–Ω–æ –≤ —Ñ–æ—Ä–º—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
    
    def start_simulation(self):
        """–ó–∞–ø—É—Å–∫–∞–µ—Ç —Å–∏–º—É–ª—è—Ü–∏—é –ø–µ—Ä–µ–¥–∞—á–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è"""
        if self.original_image is None:  # –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ
            messagebox.showwarning("–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ", "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ")  # –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
            return  # –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏
            
        if self.simulation_running:  # –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –Ω–µ –∑–∞–ø—É—â–µ–Ω–∞ –ª–∏ —É–∂–µ —Å–∏–º—É–ª—è—Ü–∏—è
            return  # –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ –µ—Å–ª–∏ —Å–∏–º—É–ª—è—Ü–∏—è —É–∂–µ –∑–∞–ø—É—â–µ–Ω–∞
            
        self.simulation_running = True  # —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ñ–ª–∞–≥ –∑–∞–ø—É—Å–∫–∞ —Å–∏–º—É–ª—è—Ü–∏–∏
        self.stats_data = []  # –æ—á–∏—â–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å–∏–º—É–ª—è—Ü–∏–∏
        
        # –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∏–º—É–ª—è—Ü–∏—é –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ —á—Ç–æ–±—ã –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å GUI
        thread = threading.Thread(target=self.run_simulation)  # —Å–æ–∑–¥–∞–µ—Ç –ø–æ—Ç–æ–∫ –¥–ª—è —Å–∏–º—É–ª—è—Ü–∏–∏
        thread.daemon = True  # —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ—Ç–æ–∫ –∫–∞–∫ –¥–µ–º–æ–Ω (–∑–∞–≤–µ—Ä—à–∏—Ç—Å—è –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞)
        thread.start()  # –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–æ—Ç–æ–∫ —Å–∏–º—É–ª—è—Ü–∏–∏
    
    def run_simulation(self):
        """–û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª —Å–∏–º—É–ª—è—Ü–∏–∏ –ø–µ—Ä–µ–¥–∞—á–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è"""
        # –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        network_speed = self.network_speed.get()  # –ø–æ–ª—É—á–∞–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å —Å–µ—Ç–∏ (–ø–∞–∫–µ—Ç–æ–≤/—Ç–∞–∫)
        packet_loss = self.packet_loss.get() / 100.0  # –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç –ø–æ—Ç–µ—Ä—å –≤ –¥—Ä–æ–±—å (0.0-1.0)
        bit_error = self.bit_error.get() / 100.0  # –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫ –≤ –¥—Ä–æ–±—å (0.0-1.0)
        packet_size = self.packet_size.get()  # –ø–æ–ª—É—á–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –ø–∞–∫–µ—Ç–∞ –≤ –±–∞–π—Ç–∞—Ö
        
        # –°–±—Ä–∞—Å—ã–≤–∞–µ–º –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º—É
        self.received_image_data = self.original_image.copy()  # —Å–æ–∑–¥–∞–µ—Ç –∫–æ–ø–∏—é –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏
        
        # –†–∞–∑–±–∏–≤–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –ø–∞–∫–µ—Ç—ã
        packets = self.create_packets_from_image(self.original_image, packet_size)  # —Å–æ–∑–¥–∞–µ—Ç –ø–∞–∫–µ—Ç—ã –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
        packets_to_send = packets.copy()  # —Å–æ–∑–¥–∞–µ—Ç –∫–æ–ø–∏—é —Å–ø–∏—Å–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
        
        # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        received_packets = 0  # —Å—á–µ—Ç—á–∏–∫ —É—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
        corrupted_packets = 0  # —Å—á–µ—Ç—á–∏–∫ –∏—Å–∫–∞–∂–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
        lost_packets = 0  # —Å—á–µ—Ç—á–∏–∫ –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
        total_packets = len(packets)  # –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞–∫–µ—Ç–æ–≤
        
        # –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª —Å–∏–º—É–ª—è—Ü–∏–∏
        while packets_to_send and self.simulation_running:  # –ø–æ–∫–∞ –µ—Å—Ç—å –ø–∞–∫–µ—Ç—ã –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏ —Å–∏–º—É–ª—è—Ü–∏—è –Ω–µ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
            sent_this_tick = 0  # —Å—á–µ—Ç—á–∏–∫ –ø–∞–∫–µ—Ç–æ–≤ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –≤ —Ç–µ–∫—É—â–µ–º —Ç–∞–∫—Ç–µ
            
            # –ü–µ—Ä–µ–¥–∞–µ–º –ø–∞–∫–µ—Ç—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å–æ —Å–∫–æ—Ä–æ—Å—Ç—å—é —Å–µ—Ç–∏
            while sent_this_tick < network_speed and packets_to_send:  # –ø–æ–∫–∞ –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞ —Å–∫–æ—Ä–æ—Å—Ç—å —Å–µ—Ç–∏ –∏ –µ—Å—Ç—å –ø–∞–∫–µ—Ç—ã
                packet = packets_to_send.pop(0)  # –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π –ø–∞–∫–µ—Ç –∏–∑ –æ—á–µ—Ä–µ–¥–∏
                
                # –°–∏–º—É–ª–∏—Ä—É–µ–º –ø–æ—Ç–µ—Ä—é –ø–∞–∫–µ—Ç–∞
                if random.random() < packet_loss:  # –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–æ—Ç–µ—Ä–∏ –ø–∞–∫–µ—Ç–∞
                    lost_packets += 1  # —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á–µ—Ç—á–∏–∫ –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
                else:
                    # –°–∏–º—É–ª–∏—Ä—É–µ–º –±–∏—Ç–æ–≤—ã–µ –æ—à–∏–±–∫–∏ –≤ –ø–∞–∫–µ—Ç–µ
                    corrupted_packet = self.corrupt_packet(packet, bit_error)  # –≤–Ω–æ—Å–∏—Ç –æ—à–∏–±–∫–∏ –≤ –ø–∞–∫–µ—Ç
                    if corrupted_packet['corrupted']:  # –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –±—ã–ª –ª–∏ –ø–∞–∫–µ—Ç –∏—Å–∫–∞–∂–µ–Ω
                        corrupted_packets += 1  # —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á–µ—Ç—á–∏–∫ –∏—Å–∫–∞–∂–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
                    
                    # –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–∞–∫–µ—Ç –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏
                    self.received_image_data = self.apply_packet_to_image(
                        self.received_image_data,  # —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                        corrupted_packet['data'],  # –¥–∞–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç–∞ (–≤–æ–∑–º–æ–∂–Ω–æ –∏—Å–∫–∞–∂–µ–Ω–Ω—ã–µ)
                        packet['index']  # –ø–æ–∑–∏—Ü–∏—è –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –≥–¥–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ
                    )
                    received_packets += 1  # —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á–µ—Ç—á–∏–∫ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
                
                sent_this_tick += 1  # —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á–µ—Ç—á–∏–∫ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ –≤ —Ç–µ–∫—É—â–µ–º —Ç–∞–∫—Ç–µ
            
            # –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
            progress = (total_packets - len(packets_to_send)) / total_packets * 100  # –≤—ã—á–∏—Å–ª—è–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
            
            # –í—ã—á–∏—Å–ª—è–µ–º —Ç–µ–∫—É—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
            current_mse = self.calculate_mse(self.original_image, self.received_image_data)  # –≤—ã—á–∏—Å–ª—è–µ—Ç —Ç–µ–∫—É—â–∏–π MSE
            current_psnr = self.calculate_psnr(self.original_image, self.received_image_data)  # –≤—ã—á–∏—Å–ª—è–µ—Ç —Ç–µ–∫—É—â–∏–π PSNR
            current_ssim = self.calculate_ssim(self.original_image, self.received_image_data)  # –≤—ã—á–∏—Å–ª—è–µ—Ç —Ç–µ–∫—É—â–∏–π SSIM
            efficiency = (received_packets / (received_packets + lost_packets)) * 100 if (received_packets + lost_packets) > 0 else 0  # –≤—ã—á–∏—Å–ª—è–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏
            
            # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            self.stats_data.append({
                'progress': progress,  # –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–µ—Ä–µ–¥–∞—á–∏ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
                'received': received_packets,  # –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
                'corrupted': corrupted_packets,  # –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Å–∫–∞–∂–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
                'lost': lost_packets,  # –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
                'efficiency': efficiency,  # —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
                'psnr': current_psnr,  # —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ PSNR
                'ssim': current_ssim,  # —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ SSIM
                'mse': current_mse  # —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ MSE
            })
            
            # –û–±–Ω–æ–≤–ª—è–µ–º UI –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ tkinter
            self.root.after(0, self.update_ui)  # –ø–ª–∞–Ω–∏—Ä—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ
            
            # –ó–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–µ—Ä–µ–¥–∞—á–∏
            time.sleep(0.1)  # –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞ 100 –º—Å –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏
        
        # –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–∏–º—É–ª—è—Ü–∏–∏
        self.simulation_running = False  # —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Ñ–ª–∞–≥ —Å–∏–º—É–ª—è—Ü–∏–∏
        self.root.after(0, lambda: messagebox.showinfo("–°–∏–º—É–ª—è—Ü–∏—è", "–°–∏–º—É–ª—è—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞"))  # –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
    
    def update_ui(self):
        """–û–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏–º—É–ª—è—Ü–∏–∏"""
        if not self.stats_data:  # –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
            return  # –≤—ã—Ö–æ–¥–∏—Ç –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç
            
        # –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
        display_received = self.resize_image_for_display(self.received_image_data, 400)  # –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
        pil_received = Image.fromarray(display_received.astype(np.uint8))  # —Å–æ–∑–¥–∞–µ—Ç PIL Image –∏–∑ numpy array
        self.tk_received_image = ImageTk.PhotoImage(pil_received)  # –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç Tkinter
        self.received_canvas.delete("all")  # –æ—á–∏—â–∞–µ—Ç —Ö–æ–ª—Å—Ç received
        self.received_canvas.create_image(0, 0, anchor=tk.NW, image=self.tk_received_image)  # –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
        
        # –û–±–Ω–æ–≤–ª—è–µ–º –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
        self.update_quality_metrics()  # –≤—ã–∑—ã–≤–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–∏—Å–ª–µ–Ω–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫
        
        # –û–±–Ω–æ–≤–ª—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏
        current_stats = self.stats_data[-1]  # –ø–æ–ª—É—á–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω—é—é –∑–∞–ø–∏—Å—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        self.efficiency_value.config(text=f"{current_stats['efficiency']:.1f}%")  # –æ–±–Ω–æ–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
        
        # –û–±–Ω–æ–≤–ª—è–µ–º –≥—Ä–∞—Ñ–∏–∫
        self.update_chart()  # –≤—ã–∑—ã–≤–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞
        
        # –û–±–Ω–æ–≤–ª—è–µ–º –æ–±–ª–∞—Å—Ç—å –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
        self.content_frame.update_idletasks()  # –æ–±–Ω–æ–≤–ª—è–µ—Ç –≥–µ–æ–º–µ—Ç—Ä–∏—é —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        self.canvas.configure(scrollregion=self.canvas.bbox("all"))  # –æ–±–Ω–æ–≤–ª—è–µ—Ç –æ–±–ª–∞—Å—Ç—å –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
    
    def init_chart(self):
        """–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≥—Ä–∞—Ñ–∏–∫ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫"""
        self.ax.clear()  # –æ—á–∏—â–∞–µ—Ç –æ—Å—å –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
        self.ax.set_xlabel('–ü—Ä–æ–≥—Ä–µ—Å—Å –ø–µ—Ä–µ–¥–∞—á–∏ (%)', fontsize=12)  # —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ–¥–ø–∏—Å—å –æ—Å–∏ X
        self.ax.set_ylabel('–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (%)', color='blue', fontsize=12)  # —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ–¥–ø–∏—Å—å –ª–µ–≤–æ–π –æ—Å–∏ Y
        self.ax.tick_params(axis='y', labelcolor='blue')  # –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Ü–≤–µ—Ç –º–µ—Ç–æ–∫ –ª–µ–≤–æ–π –æ—Å–∏
        
        # –í—Ç–æ—Ä–∞—è –æ—Å—å –¥–ª—è PSNR
        self.ax2 = self.ax.twinx()  # —Å–æ–∑–¥–∞–µ—Ç –≤—Ç–æ—Ä—É—é –æ—Å—å Y —Å –æ–±—â–µ–π –æ—Å—å—é X
        self.ax2.set_ylabel('PSNR (dB)', color='red', fontsize=12)  # —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ–¥–ø–∏—Å—å –ø—Ä–∞–≤–æ–π –æ—Å–∏ Y
        self.ax2.tick_params(axis='y', labelcolor='red')  # –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Ü–≤–µ—Ç –º–µ—Ç–æ–∫ –ø—Ä–∞–≤–æ–π –æ—Å–∏
        
        self.ax.grid(True, alpha=0.3)  # –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–µ—Ç–∫—É —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é
        self.canvas_chart.draw()  # –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –≥—Ä–∞—Ñ–∏–∫
    
    def update_chart(self):
        """–û–±–Ω–æ–≤–ª—è–µ—Ç –≥—Ä–∞—Ñ–∏–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏"""
        if not self.stats_data:  # –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞
            return  # –≤—ã—Ö–æ–¥–∏—Ç –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç
            
        self.ax.clear()  # –æ—á–∏—â–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—É—é –æ—Å—å
        self.ax2.clear()  # –æ—á–∏—â–∞–µ—Ç –≤—Ç–æ—Ä—É—é –æ—Å—å
        
        # –ò–∑–≤–ª–µ–∫–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        progress = [s['progress'] for s in self.stats_data]  # —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø–µ—Ä–µ–¥–∞—á–∏
        efficiency = [s['efficiency'] for s in self.stats_data]  # —Å–ø–∏—Å–æ–∫ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥–∞—á–∏
        psnr = [s['psnr'] if s['psnr'] != float('inf') else 100 for s in self.stats_data]  # —Å–ø–∏—Å–æ–∫ PSNR (–∑–∞–º–µ–Ω—è–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç—å –Ω–∞ 100)
        
        # –°—Ç—Ä–æ–∏–º –≥—Ä–∞—Ñ–∏–∫–∏
        self.ax.plot(progress, efficiency, 'b-', label='–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å', linewidth=2)  # —Å—Ç—Ä–æ–∏—Ç –≥—Ä–∞—Ñ–∏–∫ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å–∏–Ω–µ–π –ª–∏–Ω–∏–µ–π
        self.ax2.plot(progress, psnr, 'r-', label='PSNR', linewidth=2)  # —Å—Ç—Ä–æ–∏—Ç –≥—Ä–∞—Ñ–∏–∫ PSNR –∫—Ä–∞—Å–Ω–æ–π –ª–∏–Ω–∏–µ–π
        
        # –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –æ—Å–∏
        self.ax.set_xlabel('–ü—Ä–æ–≥—Ä–µ—Å—Å –ø–µ—Ä–µ–¥–∞—á–∏ (%)', fontsize=12)  # –ø–æ–¥–ø–∏—Å—å –æ—Å–∏ X
        self.ax.set_ylabel('–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (%)', color='blue', fontsize=12)  # –ø–æ–¥–ø–∏—Å—å –ª–µ–≤–æ–π –æ—Å–∏ Y
        self.ax.tick_params(axis='y', labelcolor='blue')  # —Ü–≤–µ—Ç –º–µ—Ç–æ–∫ –ª–µ–≤–æ–π –æ—Å–∏
        self.ax.set_ylim(0, 100)  # —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–µ–¥–µ–ª—ã –ª–µ–≤–æ–π –æ—Å–∏ Y
        
        self.ax2.set_ylabel('PSNR (dB)', color='red', fontsize=12)  # –ø–æ–¥–ø–∏—Å—å –ø—Ä–∞–≤–æ–π –æ—Å–∏ Y
        self.ax2.tick_params(axis='y', labelcolor='red')  # —Ü–≤–µ—Ç –º–µ—Ç–æ–∫ –ø—Ä–∞–≤–æ–π –æ—Å–∏
        self.ax2.set_ylim(0, 100)  # —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–µ–¥–µ–ª—ã –ø—Ä–∞–≤–æ–π –æ—Å–∏ Y
        
        # –õ–µ–≥–µ–Ω–¥–∞
        lines1, labels1 = self.ax.get_legend_handles_labels()  # –ø–æ–ª—É—á–∞–µ—Ç –ª–∏–Ω–∏–∏ –∏ –ø–æ–¥–ø–∏—Å–∏ —Å –ø–µ—Ä–≤–æ–π –æ—Å–∏
        lines2, labels2 = self.ax2.get_legend_handles_labels()  # –ø–æ–ª—É—á–∞–µ—Ç –ª–∏–Ω–∏–∏ –∏ –ø–æ–¥–ø–∏—Å–∏ —Å–æ –≤—Ç–æ—Ä–æ–π –æ—Å–∏
        self.ax.legend(lines1 + lines2, labels1 + labels2, loc='upper left')  # —Å–æ–∑–¥–∞–µ—Ç –æ–±—â—É—é –ª–µ–≥–µ–Ω–¥—É
        
        self.ax.grid(True, alpha=0.3)  # –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–µ—Ç–∫—É
        self.canvas_chart.draw()  # –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫
    
    def stop_simulation(self):
        """–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∏–º—É–ª—è—Ü–∏–∏"""
        self.simulation_running = False  # —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ñ–ª–∞–≥ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–∏–º—É–ª—è—Ü–∏–∏
    
    def reset_image(self):
        """–°–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫ –∏—Å—Ö–æ–¥–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é"""
        self.simulation_running = False  # –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–∏–º—É–ª—è—Ü–∏—é –µ—Å–ª–∏ –æ–Ω–∞ –∑–∞–ø—É—â–µ–Ω–∞
        
        if self.original_image is not None:  # –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ
            self.received_image_data = self.original_image.copy()  # —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—É
            
            # –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
            display_received = self.resize_image_for_display(self.received_image_data, 400)  # –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            pil_received = Image.fromarray(display_received)  # —Å–æ–∑–¥–∞–µ—Ç PIL Image
            self.tk_received_image = ImageTk.PhotoImage(pil_received)  # –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –≤ Tkinter
            self.received_canvas.delete("all")  # –æ—á–∏—â–∞–µ—Ç —Ö–æ–ª—Å—Ç
            self.received_canvas.create_image(0, 0, anchor=tk.NW, image=self.tk_received_image)  # –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            
            # –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            self.stats_data = []  # –æ—á–∏—â–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            self.update_quality_metrics()  # –æ–±–Ω–æ–≤–ª—è–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
            self.efficiency_value.config(text="100%")  # —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
            self.init_chart()  # –ø–µ—Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≥—Ä–∞—Ñ–∏–∫

def main():
    """
    –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, —Å–æ–∑–¥–∞–µ—Ç –≥–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
    """
    root = tk.Tk()  # —Å–æ–∑–¥–∞–µ—Ç –≥–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ tkinter
    app = NetworkImageTransmissionSimulator(root)  # —Å–æ–∑–¥–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    root.mainloop()  # –∑–∞–ø—É—Å–∫–∞–µ—Ç –≥–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π tkinter

if __name__ == "__main__":
    main()  # –≤—ã–∑—ã–≤–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—â–µ–Ω –Ω–∞–ø—Ä—è–º—É—é
